Script started on 2023-12-01 18:00:20+00:00 [TERM="xterm-256color" TTY="/dev/pts/2" COLUMNS="225" LINES="30"]
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# [7m  git config --global user.email "you@example.com"[27m
[7m  git config --global user.name "Your Name"[27m[A  git config --global user.email "you@example.com"
  git config --global user.name "Your Name"
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git add .
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git commit 
[?2004lhint: Waiting for your editor to close the file... [?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 11 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                  /root/App_of_apps/.git/COMMIT_EDITMSG                                                                                            [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[3d[36m# Please enter the commit message for your changes. Lines starting[4d# with '#' will be ignored, and an empty message aborts the commit.[5d#[6d# On branch main[7d# Your branch is up to date with 'origin/main'.[8d#[9d# Changes to be committed:[10d#[38;5;208m       [36mnew file:   Jenkinsfile[11d#[38;5;208m       [36mnew file:   {[12d#[2d[39m(B[m[?12l[?25h[?25l[1;135H(B[0;7m*[224G(B[m[?12l[?25h[2da[?25l[?12l[?25hd[?25l[?12l[?25hd[?25l[?12l[?25h [?25l[?12l[?25hJ[?25l[?12l[?25he[?25l[?12l[?25hn[?25l[?12l[?25hk[?25l[?12l[?25hi[?25l[?12l[?25hn[?25l[?12l[?25hs[?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25hF[?25l[?12l[?25hi[?25l[?12l[?25hl[?25l[?12l[?25he[?25l[?12l[?25h [?25l[?12l[?25h [?25l[28d[K[?12l[?25h[2;13H [?25l[?12l[?25h [?25l[?12l[?25hf[?25l[?12l[?25hi[?25l[?12l[?25hl[?25l[?12l[?25he[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;135H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 11 lines ](B[m[?12l[?25h[2;16H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[K[main 87846f1] add Jenkinsfile
 2 files changed, 56 insertions(+)
 create mode 100644 Jenkinsfile
 create mode 100644 {
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git push
[?2004lUsername for 'https://github.com': ppaciekq
Password for 'https://ppaciekq@github.com': 
Enumerating objects: 5, done.
Counting objects:  20% (1/5)Counting objects:  40% (2/5)Counting objects:  60% (3/5)Counting objects:  80% (4/5)Counting objects: 100% (5/5)Counting objects: 100% (5/5), done.
Delta compression using up to 3 threads
Compressing objects:  33% (1/3)Compressing objects:  66% (2/3)Compressing objects: 100% (3/3)Compressing objects: 100% (3/3), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 738 bytes | 738.00 KiB/s, done.
Total 4 (delta 0), reused 0 (delta 0), pack-reused 0
To https://github.com/ppaciekq/App_of_apps.git
   e40216b..87846f1  main -> main
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# cd ..
[?2004l[?2004h]0;root@vagrant: ~root@vagrant:~# cd Infrastructure/
[?2004l[?2004h]0;root@vagrant: ~/Infrastructureroot@vagrant:~/Infrastructure# git add.[K .
[?2004l[?2004h]0;root@vagrant: ~/Infrastructureroot@vagrant:~/Infrastructure# git push[K[K[K[K[Kco[K[K commit
[?2004lhint: Waiting for your editor to close the file... [?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 10 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                 /root/Infrastructure/.git/COMMIT_EDITMSG                                                                                          [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[3d[36m# Please enter the commit message for your changes. Lines starting[4d# with '#' will be ignored, and an empty message aborts the commit.[5d#[6d# On branch main[7d# Your branch is up to date with 'origin/main'.[8d#[9d# Changes to be committed:[10d#[38;5;208m       [36mmodified:   docker-compose.yaml[11d#[2d[39m(B[m[?12l[?25h[?25l[1;137H(B[0;7m*[224G(B[m[?12l[?25h[2da[?25l[?12l[?25hd[?25l[?12l[?25hd[?25l[?12l[?25h [?25l[?12l[?25hd[?25l[?12l[?25he[?25l[?12l[?25hf[?25l[?12l[?25h [?25l[?12l[?25hi[?25l[?12l[?25hn[?25l[?12l[?25h [?25l[?12l[?25hd[?25l[?12l[?25he[?25l[?12l[?25ho[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25ho[?25l[?12l[?25hc[?25l[?12l[?25hk[?25l[28d[K[?12l[?25h[2;16He[?25l[?12l[?25hr[?25l[?12l[?25h-[?25l[?12l[?25hc[?25l[?12l[?25ho[?25l[?12l[?25hm[?25l[?12l[?25hp[?25l[?12l[?25ho[?25l[?12l[?25hs[?25l[?12l[?25he[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;137H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 10 lines ](B[m[?12l[?25h[2;26H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[K[main df19bc1] add def in docker-compose
 1 file changed, 27 insertions(+)
[?2004h]0;root@vagrant: ~/Infrastructureroot@vagrant:~/Infrastructure# git push
[?2004lUsername for 'https://github.com': ppaciekq
Password for 'https://ppaciekq@github.com': 
Enumerating objects: 5, done.
Counting objects:  20% (1/5)Counting objects:  40% (2/5)Counting objects:  60% (3/5)Counting objects:  80% (4/5)Counting objects: 100% (5/5)Counting objects: 100% (5/5), done.
Delta compression using up to 3 threads
Compressing objects:  33% (1/3)Compressing objects:  66% (2/3)Compressing objects: 100% (3/3)Compressing objects: 100% (3/3), done.
Writing objects:  33% (1/3)Writing objects:  66% (2/3)Writing objects: 100% (3/3)Writing objects: 100% (3/3), 479 bytes | 79.00 KiB/s, done.
Total 3 (delta 2), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/2)[Kremote: Resolving deltas:  50% (1/2)[Kremote: Resolving deltas: 100% (2/2)[Kremote: Resolving deltas: 100% (2/2), completed with 2 local objects.[K
To https://github.com/ppaciekq/Infrastructure.git
   fccef39..df19bc1  main -> main
[?2004h]0;root@vagrant: ~/Infrastructureroot@vagrant:~/Infrastructure# cd ..
[?2004l[?2004h]0;root@vagrant: ~root@vagrant:~# cd App_of_apps/
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# ll
[?2004ltotal 28
drwxr-xr-x  4 root root 4096 Dec  1 18:00  [0m[01;34m.[0m/
drwx------ 10 root root 4096 Dec  1 18:00  [01;34m..[0m/
-rw-r--r--  1 root root 8192 Dec  1 18:01 '{'
drwxr-xr-x  8 root root 4096 Dec  1 18:00  [01;34m.git[0m/
-rw-r--r--  1 root root 1297 Dec  1 17:59  Jenkinsfile
drwxr-xr-x  3 root root 4096 Dec  1 17:19  [01;34mtest[0m/
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# pwd
[?2004l/root/App_of_apps
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 1pwd[1Pllcd App_of_apps/..[Kgit pushcommit[1Padd .cd Infrastructure/..[Kgit pushcommit [2Padd .commit [3Ppush[3Pcd ..Infrastructure/[9Pgit add .commit[1Padd .commit[2Ppush[3Pcd ..App_of_apps/ll[Kpwd[2P1[Knano Jenkinsfile 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 56 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                               Jenkinsfile                                                                                                         [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2ddef frontendImage="ppacieq/frontend"[3ddef backendImage="ppacieq/backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[14dparameters {[15;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[16;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[17;5H}[20dstages {[23;9Hstage('Get Code') {[24;13Hsteps {[25;17Hcheckout scm // Get some code from a GitHub repository[26;13H}[27;9H}[2d[?12l[?25h[?25l[?12l[?25h[8d[?25l[?12l[?25h[14d[?25l[?12l[?25h[20d[?25l[28d[K[?12l[?25h[26d[?25l[?12l[?25h[2;28r[28;1H[11S[1;30r[19;9Hstage('Adjust version') {[20;13Hsteps {[21;17Hscript{[22;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[23;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[25;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[26;17H}[27;13H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;9H}[26dstage('Remove Containers') {[27;13Hsteps {[?25l[?12l[?25h7[2;28r8[28d[11S[1;30r[17;17Hscript {[18;21Hsh 'docker rm -f backend || true'[19;21Hsh 'docker rm -f frontend || true'[20;17H}[21;13H}[22;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[3S[1;30r[25;5H}[26d}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;28r[2;1H[4T[1;30r[3;9Hstage('Adjust version') {[4;13Hsteps {[5;17Hscript{[2d[?25l[?12l[?25h7[2;27r8[5T[1;30r[2;13Hsteps {[3;17Hcheckout scm // Get some code from a GitHub repository[4;13H}[5;9H}[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[4;5Hstages {[7;9Hstage('Get Code') {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[4;5Hparameters {[5;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[6;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[7;5H}[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[3;1Hpipeline {[5;4Hagent {[6dlabel 'agent'[7;5H}[2d[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[19d[?25l[?12l[?25h[24d[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[25;17Hscript{[26;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[27;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[23;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[24;17H}[25;13H}[26;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[24;9Hstage('Remove Containers') {[25;13Hsteps {[26;17Hscript {[27;21Hsh 'docker rm -f backend || true'[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;21Hsh 'docker rm -f frontend || true'[23;17H}[24;13H}[25;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[25;5H}[26d}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[5d[?25l[?12l[?25h[2;27r[2;1H[3T[1;30r[2;9Hstage('Adjust version') {[3;13Hsteps {[4;17Hscript{[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;13Hsteps {[3;17Hcheckout scm // Get some code from a GitHub repository[4;13H}[5;9H}[2d[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[18d[?25l[?12l[?25h[24d[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[25;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[25;5H}[26d}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[1;122H(B[0;7m*[224G(B[m[20;28r[20;1HM[1;30r[21;1H[?12l[?25h[?25l[20;27r[20;1HM[1;30r[22;1H[?12l[?25h[?25l[2;28r[28;1H[6S[1;30r[16;9Hstage('Deploy application') {[17;13Hsteps {[18;17Hscript {[19;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[20;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[21;23H[1K docker.withRegistry("$dockerRegistry", "$registryCredentials") {[22;29Hsh "docker-compose up -d"[23;25H}[24;21H}[25;17H}[26;13H}[27;9H}[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;27r[2;1H[4T[1;30r[3;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[4;17H}[5;13H}[2;10H[?25l[?12l[?25h7[2;27r8[6T[1;30r[3;9Hstage('Adjust version') {[4;13Hsteps {[5;17Hscript{[6;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[7;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;9Hstage('Get Code') {[3;13Hsteps {[4;17Hcheckout scm // Get some code from a GitHub repository[5;13H}[6;9H}[2d[?25l[?12l[?25h7[2;27r8[5T[1;30r[4;5Hstages {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[4;5Hparameters {[5;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[6;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[7;5H}[2d[?25l[?12l[?25h[7;6H[?25l[?12l[?25h[12d[?25l[?12l[?25h[18d[?25l[?12l[?25h[24;10H[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[25;13H}[26;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[24;9Hstage('Remove Containers') {[25;13Hsteps {[26;17Hscript {[27;21Hsh 'docker rm -f backend || true'[27;10H[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;21Hsh 'docker rm -f frontend || true'[23;17H}[24;13H}[25;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;9Hstage('Deploy application') {[23;13Hsteps {[24;17Hscript {[25;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[26;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[27;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[27;10H[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;29Hsh "docker-compose up -d"[23;25H}[24;21H}[25;17H}[26;13H}[27;9H}[?25l[?12l[?25h7[2;28r8[28d[5S[1;30r[27;5H}[?25l[?12l[?25h7[2;28r8[28d[2S[1;30r[26;1H}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;122H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 69 lines ](B[m[?12l[?25h[A[?25l[?12l[?25h[22d[?25l[?12l[?25h[16;10H[?25l[?12l[?25h[10d[?25l[28d[K[?12l[?25h[5;10H[?25l[?12l[?25h[2;27r[2;1H[3T[1;30r[2;9Hstage('Remove Containers') {[3;13Hsteps {[4;17Hscript {[2;10H[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;17H}[3;13H}[4;9H}[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;13Hsteps {[3;17Hscript{[4;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[5;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[7;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[2;10H[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;17Hcheckout scm // Get some code from a GitHub repository[3;13H}[4;9H}[7dstage('Adjust version') {[2;10H[?25l[?12l[?25h7[2;27r8[6T[1;30r[3;5Hstages {[6;9Hstage('Get Code') {[7;13Hsteps {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[3;5Hparameters {[4;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[5;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[6;5H}[2d [?25l[?12l[?25h7[2;28r8[11T[1;30r[2;1Hdef frontendImage="ppacieq/frontend"[3ddef backendImage="ppacieq/backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[2;10H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d [?25l[?12l[?25h[19d[?25l[?12l[?25h[25;10H[?25l[?12l[?25h[2;28r[28;1H[4S[1;30r[26;9Hstage('Adjust version') {[27;13Hsteps {[27;10H[?25l[?12l[?25h7[2;28r8[28d[11S[1;30r[17;17Hscript{[18;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[19;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[21;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[22;17H}[23;13H}[24;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;9Hstage('Remove Containers') {[23;13Hsteps {[24;17Hscript {[25;21Hsh 'docker rm -f backend || true'[26;21Hsh 'docker rm -f frontend || true'[27;17H}[27;10H[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13H}[23;9H}[26dstage('Deploy application') {[27;13Hsteps {[27;10H[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17Hscript {[23;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[24;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[25;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[26;29Hsh "docker-compose up -d"[27;25H}[27;10H[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;21H}[23;17H}[24;13H}[25;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[5S[1;30r[25;5H}[26d}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;224H[28;104H(B[0;7m[ Wrote 69 lines ](B[m[?12l[?25h[A[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jenkinsfile [Knano Jenkinsfile [1@c[1@a[1@t[1P[1P[1P[1P
[?2004ldef frontendImage="ppacieq/frontend"
def backendImage="ppacieq/backend"
def dockerRegistry=""
def registryCredentials="dockerhub"

pipeline {
 
   agent {
        label 'agent'
    }

 
    parameters {
        string(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')
        string(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')
    }


    stages {


        stage('Get Code') {
            steps {
                checkout scm // Get some code from a GitHub repository
            }
        }


        stage('Adjust version') {
            steps {
                script{
                    backendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag
                    frontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag
                    
                    currentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"
                }
            }
        }



        stage('Remove Containers') {
            steps {
                script {
                    sh 'docker rm -f backend || true' 
                    sh 'docker rm -f frontend || true'
                }
            }
        }


        stage('Deploy application') {
            steps {
                script {
                    withEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag", 
                             "BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {
                       docker.withRegistry("$dockerRegistry", "$registryCredentials") {
                            sh "docker-compose up -d"
                        }
                    }
                }
            }
        }




    }
}
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jenkinsfile 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 69 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                               Jenkinsfile                                                                                                         [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2ddef frontendImage="ppacieq/frontend"[3ddef backendImage="ppacieq/backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[14dparameters {[15;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[16;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[17;5H}[20dstages {[23;9Hstage('Get Code') {[24;13Hsteps {[25;17Hcheckout scm // Get some code from a GitHub repository[26;13H}[27;9H}[2d[?12l[?25h[?25l[?12l[?25h[8d[?25l[?12l[?25h[13d[?25l[28d[K[?12l[?25h[25d[?25l[?12l[?25h[2;12H[1K steps {[K[3;16H[1K checkout scm // Get some code from a GitHub repository[4;12H[1K }[K[5;8H[1K }[K[7d[K[8;9Hstage('Adjust version') {[9;12H[1K steps {[10;16H[1K script{[11;20H[1K backendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[12;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[14;20H[1K currentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[15;16H[1K }[K[16;9H    }[K[17d        }[20d[K[21;9Hstage('Remove Containers') {[22;13Hsteps {[23;16H[1K script {[K[24;20H[1K sh 'docker rm -f backend || true'[25;17H    sh 'docker rm -f frontend || true'[K[26d[26;13H    }[27d[27;9H    }[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;9H}[25dstage('Deploy application') {[26;13Hsteps {[27;17Hscript {[?25l[?12l[?25h[2;20H[1K sh 'docker rm -f backend || true'[3;20H[1K sh 'docker rm -f frontend || true'[4;17H}[K[5;13H}[K[6;9H}[K[8d[K[9;9Hstage('Deploy application') {[10;13Hsteps {[11;16H[1K script {[12;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[13;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[14;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[15;28H[1K sh "docker-compose up -d"[16;24H[1K }[17;17H    }[K[18;17H}[K[19;13H}[K[20;9H}[K[21d[K[22d[K[25;5H}[K[26d}[K[27d[K[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[1;122H(B[0;7m*[224G(B[m[21;28r[21;1HM[1;30r[23;1H[?12l[?25h[?25l[21;27r[21;1HM[1;30r[24;1H[?12l[?25h[?25l[27d[K[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[2;28r[28;1H[3S[1;30r[20;5Hpost {[21dalways {[22;13Hscript {[23;17Hsh 'docker-compose down || true' // Zatrzymaj dziaÅ‚anie docker-compose[24;17HcleanWS() // UsuÅ„ pliki w przestrzeni roboczej[25;13H}[26;9H}[27;5H}[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[24;63H[?25l[?12l[?25h[?25l[?12l[?25hj[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[23;87H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25ho[?25l[?12l[?25hm[?25l[?12l[?25hp[?25l[?12l[?25ho[?25l[?12l[?25hs[?25l[?12l[?25he[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h[2;28r[28;1H[2S[1;30r[27;1H[?25l || true'[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[K [?25l[?12l[?25h[?25l[A[?12l[?25h[?25l[25;6H[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[25d[?25l[?12l[?25h[26d[?25l[?12l[?25h[27d[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;5H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[A}[?25l[?12l[?25h[A   }[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[21;6H[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[18d[?25l[?12l[?25h[19d[?25l[?12l[?25h[A[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[17;40H[?25l || true'[?12l[?25h[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;122H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 78 lines ](B[m[?12l[?25h[17;49H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# ll
[?2004ltotal 52
drwxr-xr-x  4 root root  4096 Dec  1 18:30  [0m[01;34m.[0m/
drwx------ 10 root root  4096 Dec  1 18:00  [01;34m..[0m/
-rw-r--r--  1 root root 28672 Dec  1 18:29 '{'
drwxr-xr-x  8 root root  4096 Dec  1 18:00  [01;34m.git[0m/
-rw-r--r--  1 root root  1931 Dec  1 18:30  Jenkinsfile
drwxr-xr-x  3 root root  4096 Dec  1 17:19  [01;34mtest[0m/
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git add .
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git commit
[?2004lhint: Waiting for your editor to close the file... [?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 11 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                  /root/App_of_apps/.git/COMMIT_EDITMSG                                                                                            [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[3d[36m# Please enter the commit message for your changes. Lines starting[4d# with '#' will be ignored, and an empty message aborts the commit.[5d#[6d# On branch main[7d# Your branch is up to date with 'origin/main'.[8d#[9d# Changes to be committed:[10d#[38;5;208m       [36mmodified:   Jenkinsfile[11d#[38;5;208m       [36mmodified:   {[12d#[2d[39m(B[m[?12l[?25h[?25l[1;135H(B[0;7m*[224G(B[m[?12l[?25h[2dm[?25l[?12l[?25ho[?25l[?12l[?25hd[?25l[?12l[?25hi[?25l[?12l[?25hf[?25l[?12l[?25hy[?25l[?12l[?25h [?25l[?12l[?25hJ[?25l[?12l[?25he[?25l[?12l[?25hn[?25l[?12l[?25hk[?25l[?12l[?25hi[?25l[?12l[?25hn[?25l[?12l[?25hs[?25l[?12l[?25hf[?25l[?12l[?25hi[?25l[?12l[?25hl[?25l[?12l[?25he[?25l[28;105H (B[0;7m[ Writing... ](B[m[K[1;135H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 11 lines ](B[m[?12l[?25h[2;19H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[K[main 7bcdb0b] modify Jenkinsfile
 2 files changed, 160 insertions(+)
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git push
[?2004lUsername for 'https://github.com': ppaciekq
Password for 'https://ppaciekq@github.com': 
Enumerating objects: 7, done.
Counting objects:  14% (1/7)Counting objects:  28% (2/7)Counting objects:  42% (3/7)Counting objects:  57% (4/7)Counting objects:  71% (5/7)Counting objects:  85% (6/7)Counting objects: 100% (7/7)Counting objects: 100% (7/7), done.
Delta compression using up to 3 threads
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 4.83 KiB | 4.83 MiB/s, done.
Total 4 (delta 1), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (1/1)[Kremote: Resolving deltas: 100% (1/1), completed with 1 local object.[K
To https://github.com/ppaciekq/App_of_apps.git
   87846f1..7bcdb0b  main -> main
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git pushcommit[1Padd .ll[Knano Jenkinsfile [1Pcat[C[C[C[C[C[C[C[C[C[C[C[C[C[1@nano[C[C[C[C[C[C[C[C[C[C[C[C[C
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 78 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                               Jenkinsfile                                                                                                         [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2ddef frontendImage="ppacieq/frontend"[3ddef backendImage="ppacieq/backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[14dparameters {[15;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[16;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[17;5H}[20dstages {[23;9Hstage('Get Code') {[24;13Hsteps {[25;17Hcheckout scm // Get some code from a GitHub repository[26;13H}[27;9H}[2d[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[2;37H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1;122H(B[0;7m*[224G(B[m[?12l[?25h[2;26Hkq/frontend"[2;27H[?25l[?12l[?25h[3d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[28d[K[?12l[?25h[3;25H[?25l[?12l[?25hkq/backend"[3;26H[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;122H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 78 lines ](B[m[?12l[?25h[3;26H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jenkinsfile [9Pgit pushcommit[1Padd .ll[Kgit add .
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git add .nano Jenkinsfile [9Pgit pushcommit
[?2004lhint: Waiting for your editor to close the file... [?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 11 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                  /root/App_of_apps/.git/COMMIT_EDITMSG                                                                                            [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[3d[36m# Please enter the commit message for your changes. Lines starting[4d# with '#' will be ignored, and an empty message aborts the commit.[5d#[6d# On branch main[7d# Your branch is up to date with 'origin/main'.[8d#[9d# Changes to be committed:[10d#[38;5;208m       [36mmodified:   Jenkinsfile[11d#[38;5;208m       [36mmodified:   {[12d#[2d[39m(B[m[?12l[?25h[?25l[1;135H(B[0;7m*[224G(B[m[?12l[?25h[2df[?25l[?12l[?25hi[?25l[?12l[?25hx[?25l[?12l[?25h [?25l[?12l[?25hr[?25l[?12l[?25he[?25l[?12l[?25hp[?25l[?12l[?25ho[?25l[?12l[?25hn[?25l[?12l[?25ha[?25l[?12l[?25hm[?25l[?12l[?25he[?25l[28;105H (B[0;7m[ Writing... ](B[m[K[1;135H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 11 lines ](B[m[?12l[?25h[2;13H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[K[main d948f1d] fix reponame
 2 files changed, 27 insertions(+), 3 deletions(-)
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git commit[1Padd .nano Jenkinsfile [9Pgit pushcommit[2Ppush
[?2004lUsername for 'https://github.com': p[paciekq         ppaciekq
Password for 'https://ppaciekq@github.com': 
Enumerating objects: 7, done.
Counting objects:  14% (1/7)Counting objects:  28% (2/7)Counting objects:  42% (3/7)Counting objects:  57% (4/7)Counting objects:  71% (5/7)Counting objects:  85% (6/7)Counting objects: 100% (7/7)Counting objects: 100% (7/7), done.
Delta compression using up to 3 threads
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 770 bytes | 770.00 KiB/s, done.
Total 4 (delta 2), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/2)[Kremote: Resolving deltas:  50% (1/2)[Kremote: Resolving deltas: 100% (2/2)[Kremote: Resolving deltas: 100% (2/2), completed with 2 local objects.[K
To https://github.com/ppaciekq/App_of_apps.git
   7bcdb0b..d948f1d  main -> main
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jen
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;107H(B[0;7m[ New File ](B[m[H(B[0;7m  GNU nano 6.2                                                                                                   Jen                                                                                                             [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2d[?12l[?25h[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jenkinsfile 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 78 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                               Jenkinsfile                                                                                                         [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2ddef frontendImage="ppaciekq/frontend"[3ddef backendImage="ppaciekq/backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[14dparameters {[15;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[16;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[17;5H}[20dstages {[23;9Hstage('Get Code') {[24;13Hsteps {[25;17Hcheckout scm // Get some code from a GitHub repository[26;13H}[27;9H}[2d[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[2;38H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1;122H(B[0;7m*[224G(B[m[?12l[?25h[2;29H[1P[?25l[?12l[?25hFrontend"[2;30H[?25l[?12l[?25h[3d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25hb[?25l[?12l[?25h[1P[?25l[?12l[?25hBackend"[29G[?25l[28;105H (B[0;7m[ Writing... ](B[m[K[1;122H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 78 lines ](B[m[?12l[?25h[3;29H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jenkinsfile [Kgit pushcommit[1Padd .
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git add .nano Jenkinsfile [Kgit pushcommit
[?2004lhint: Waiting for your editor to close the file... [?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 11 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                  /root/App_of_apps/.git/COMMIT_EDITMSG                                                                                            [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[3d[36m# Please enter the commit message for your changes. Lines starting[4d# with '#' will be ignored, and an empty message aborts the commit.[5d#[6d# On branch main[7d# Your branch is up to date with 'origin/main'.[8d#[9d# Changes to be committed:[10d#[38;5;208m       [36mmodified:   Jenkinsfile[11d#[38;5;208m       [36mmodified:   {[12d#[2d[39m(B[m[?12l[?25h[?25l[1;135H(B[0;7m*[224G(B[m[?12l[?25h[2df[?25l[?12l[?25hi[?25l[?12l[?25hr[?25l[?12l[?25hx[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25hx[?25l[?12l[?25h [?25l[?12l[?25hr[?25l[?12l[?25he[?25l[?12l[?25hp[?25l[?12l[?25ho[?25l[?12l[?25hn[?25l[?12l[?25ha[?25l[?12l[?25hm[?25l[?12l[?25he[?25l[28;105H (B[0;7m[ Writing... ](B[m[K[1;135H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 11 lines ](B[m[?12l[?25h[2;13H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[K[main bfc69e1] fix reponame
 2 files changed, 24 insertions(+), 3 deletions(-)
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git commit[1Padd .nano Jenkinsfile [Kgit pushcommit[2Ppush
[?2004lUsername for 'https://github.com': p[p[a    paciekq
Password for 'https://ppaciekq@github.com': 
remote: Support for password authentication was removed on August 13, 2021.
remote: Please see https://docs.github.com/en/get-started/getting-started-with-git/about-remote-repositories#cloning-with-https-urls for information on currently recommended modes of authentication.
fatal: Authentication failed for 'https://github.com/ppaciekq/App_of_apps.git/'
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git push
[?2004lUsername for 'https://github.com': ppack iekq
Password for 'https://ppaciekq@github.com': 
Enumerating objects: 7, done.
Counting objects:  14% (1/7)Counting objects:  28% (2/7)Counting objects:  42% (3/7)Counting objects:  57% (4/7)Counting objects:  71% (5/7)Counting objects:  85% (6/7)Counting objects: 100% (7/7)Counting objects: 100% (7/7), done.
Delta compression using up to 3 threads
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 865 bytes | 216.00 KiB/s, done.
Total 4 (delta 2), reused 0 (delta 0), pack-reused 0
To https://github.com/ppaciekq/App_of_apps.git
   d948f1d..bfc69e1  main -> main
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git pushcommit[1Padd .nano Jenkinsfile [Kkinsfile 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 78 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                               Jenkinsfile                                                                                                         [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2ddef frontendImage="ppaciekq/Frontend"[3ddef backendImage="ppaciekq/Backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[14dparameters {[15;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[16;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[17;5H}[20dstages {[23;9Hstage('Get Code') {[24;13Hsteps {[25;17Hcheckout scm // Get some code from a GitHub repository[26;13H}[27;9H}[2d[?12l[?25h[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[28d[K[?12l[?25h[25d[?25l[?12l[?25h[2;28r[28;1H[10S[1;30r[20;9Hstage('Adjust version') {[21;13Hsteps {[22;17Hscript{[23;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[24;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[26;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[27;17H}[?25l[?12l[?25h[4;5H    stage('Remove Containers') {[5;9H    steps {[K[6;16H[1K script {[K[7;20H[1K sh 'docker rm -f backend || true'[8;21Hsh 'docker rm -f frontend || true'[9;17H}[10;12H[1K }[11;9H}[13d[K[14;9Hstage('Deploy application') {[15;13Hsteps {[K[16;13H    script {[17;20H[1K withEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[18;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[19;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[20;28H[1K sh "docker-compose up -d"[21;24H[1K }[22;17H    }[K[23;17H}[K[24;13H}[K[25;9H}[26d[K[27d[K[?25l[?12l[?25h7[2;28r8[28d[14S[1;30r[14;5Hpost {[15dalways {[16;13Hscript {[17;17Hsh 'docker-compose down || true'[18;17HcleanWS()[19;13H}[20;9H}[21;5H}[25d}[26d}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[14d[?25l[1;122H(B[0;7m*[224G(B[m[?12l[?25h[14d[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25host {[K[?25l[?12l[?25hst {[K[?25l[?12l[?25ht {[K[?25l[?12l[?25h {[K[?25l[?12l[?25h{[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25hays {[K[?25l[?12l[?25hys {[K[?25l[?12l[?25hs {[K[?25l[?12l[?25h {[K[?25l[?12l[?25h{[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25hipt {[K[?25l[?12l[?25hpt {[K[?25l[?12l[?25ht {[K[?25l[?12l[?25h {[K[?25l[?12l[?25h{[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25htrue'[K[?25l[?12l[?25hrue'[K[?25l[?12l[?25hue'[K[?25l[?12l[?25he'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25hnWS()[K[?25l[?12l[?25hWS()[K[?25l[?12l[?25hS()[K[?25l[?12l[?25h()[K[?25l[?12l[?25h)[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h[14;12H}[K[?25l[?12l[?25h[14;11H}[K[?25l[?12l[?25h[14;10H}[K[?25l[?12l[?25h[14;9H}[K[?25l[?12l[?25h[8G}[K[?25l[?12l[?25h[7G}[K[?25l[?12l[?25h[6G}[K[?25l[?12l[?25h    }[K[?25l[?12l[?25h   }[K[?25l[?12l[?25h  }[K[?25l[?12l[?25h }[K[?25l[?12l[?25h}[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h[8G}[K[?25l[?12l[?25h[7G}[K[?25l[?12l[?25h[6G}[K[?25l[?12l[?25h    }[K[?25l[?12l[?25h   }[K[?25l[?12l[?25h  }[K[?25l[?12l[?25h }[K[?25l[?12l[?25h}[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h   }[K[?25l[?12l[?25h  }[K[?25l[?12l[?25h }[K[?25l[?12l[?25h}[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h   }[K[?25l[?12l[?25h  }[K[?25l[?12l[?25h }[K[?25l[?12l[?25h}[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[28;83H(B[0;7m[ line 66/67 (98%), col  1/ 2 ( 50%), char 1768/1770 (99%) ](B[m[?12l[?25h[14d[?25l[28d(B[0;7mSave modified buffer?                                                                                                                                                                                                            [29;1H Y(B[m Yes[K[30d(B[0;7m N(B[m No  [30;17H(B[0;7m^C(B[m Cancel[K[28;23H[?12l[?25h[?25l[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jenkinsfile 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 78 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                               Jenkinsfile                                                                                                         [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2ddef frontendImage="ppaciekq/Frontend"[3ddef backendImage="ppaciekq/Backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[14dparameters {[15;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[16;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[17;5H}[20dstages {[23;9Hstage('Get Code') {[24;13Hsteps {[25;17Hcheckout scm // Get some code from a GitHub repository[26;13H}[27;9H}[2d[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[4d[?25l[?12l[?25h[5d[?25l[?12l[?25h[6d[?25l[?12l[?25h[7d[?25l[?12l[?25h[8d[?25l[?12l[?25h[9d[?25l[?12l[?25h[10d[?25l[?12l[?25h[11d[?25l[?12l[?25h[12d[?25l[?12l[?25h[13d[?25l[?12l[?25h[14d[?25l[?12l[?25h[15d[?25l[?12l[?25h[16d[?25l[?12l[?25h[17d[?25l[?12l[?25h[18d[?25l[?12l[?25h[19d[?25l[?12l[?25h[20d[?25l[28d[K[?12l[?25h[21d[?25l[?12l[?25h[22d[?25l[?12l[?25h[23d[?25l[?12l[?25h[24d[?25l[?12l[?25h[25d[?25l[?12l[?25h[26d[?25l[?12l[?25h[27d[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;9Hstage('Adjust version') {[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;13Hsteps {[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;17Hscript{[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;17H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;13H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;9H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;9Hstage('Remove Containers') {[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;13Hsteps {[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;17Hscript {[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;21Hsh 'docker rm -f backend || true'[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;21Hsh 'docker rm -f frontend || true'[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;17H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;13H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;9H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;9Hstage('Deploy application') {[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;13Hsteps {[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;17Hscript {[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;29Hsh "docker-compose up -d"[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;25H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;21H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;17H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;13H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;9H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;5Hpost {[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;9Halways {[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;13Hscript {[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;17Hsh 'docker-compose down || true'[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;17HcleanWS()[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;13H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;9H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;5H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;5H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[1;122H(B[0;7m*[224G(B[m[?12l[?25h[14d[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25host {[K[?25l[?12l[?25hst {[K[?25l[?12l[?25ht {[K[?25l[?12l[?25h {[K[?25l[?12l[?25h{[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25hays {[K[?25l[?12l[?25hys {[K[?25l[?12l[?25hs {[K[?25l[?12l[?25h {[K[?25l[?12l[?25h{[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25hipt {[K[?25l[?12l[?25hpt {[K[?25l[?12l[?25ht {[K[?25l[?12l[?25h {[K[?25l[?12l[?25h{[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25htrue'[K[?25l[?12l[?25hrue'[K[?25l[?12l[?25hue'[K[?25l[?12l[?25he'[K[?25l[?12l[?25h'[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25h[1P[?25l[?12l[?25hnWS()[K[?25l[?12l[?25hWS()[K[?25l[?12l[?25hS()[K[?25l[?12l[?25h()[K[?25l[?12l[?25h)[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h[14;12H}[K[?25l[?12l[?25h[14;11H}[K[?25l[?12l[?25h[14;10H}[K[?25l[?12l[?25h[14;9H}[K[?25l[?12l[?25h[8G}[K[?25l[?12l[?25h[7G}[K[?25l[?12l[?25h[6G}[K[?25l[?12l[?25h    }[K[?25l[?12l[?25h   }[K[?25l[?12l[?25h  }[K[?25l[?12l[?25h }[K[?25l[?12l[?25h}[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h[8G}[K[?25l[?12l[?25h[7G}[K[?25l[?12l[?25h[6G}[K[?25l[?12l[?25h    }[K[?25l[?12l[?25h   }[K[?25l[?12l[?25h  }[K[?25l[?12l[?25h }[K[?25l[?12l[?25h}[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h   }[K[?25l[?12l[?25h  }[K[?25l[?12l[?25h }[K[?25l[?12l[?25h}[K[?25l[?12l[?25h[K[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[12;28r[28;1H
[1;30r[14;1H[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[14d[?25l[?12l[?25h[15d[?25l[?12l[?25h[16d[?25l[?12l[?25h[17d[?25l[18d[?12l[?25h[?25l[19d[?12l[?25h[?25l[20d[?12l[?25h[?25l    post {[21dalways {[22;13Hscript {[23;17Hsh 'docker-compose down || true'[24;17HcleanWS()[25;13H}[26;9H}[27;5H}[?12l[?25h[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;122H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 79 lines ](B[m[?12l[?25h[A[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jenkinsfile [9Pgit pushcommit[1Padd .
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git add .nano Jenkinsfile [9Pgit pushcommit
[?2004lhint: Waiting for your editor to close the file... [?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 11 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                  /root/App_of_apps/.git/COMMIT_EDITMSG                                                                                            [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[3d[36m# Please enter the commit message for your changes. Lines starting[4d# with '#' will be ignored, and an empty message aborts the commit.[5d#[6d# On branch main[7d# Your branch is up to date with 'origin/main'.[8d#[9d# Changes to be committed:[10d#[38;5;208m       [36mmodified:   Jenkinsfile[11d#[38;5;208m       [36mmodified:   {[12d#[2d[39m(B[m[?12l[?25h[?25l[1;135H(B[0;7m*[224G(B[m[?12l[?25h[2df[?25l[?12l[?25hi[?25l[?12l[?25hx[?25l[?12l[?25h [?25l[?12l[?25hJ[?25l[?12l[?25he[?25l[?12l[?25hn[?25l[?12l[?25hk[?25l[?12l[?25hi[?25l[?12l[?25hn[?25l[?12l[?25hs[?25l[?12l[?25hf[?25l[?12l[?25hi[?25l[?12l[?25hl[?25l[?12l[?25he[?25l[28;105H (B[0;7m[ Writing... ](B[m[K[1;135H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 11 lines ](B[m[?12l[?25h[2;16H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[K[main 98b1eda] fix Jenkinsfile
 2 files changed, 108 insertions(+), 6 deletions(-)
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# gi puch[K[K[K[K[Kt puch[K[Ksh
[?2004lUsername for 'https://github.com': ppaciekq
Password for 'https://ppaciekq@github.com': 
Enumerating objects: 7, done.
Counting objects:  14% (1/7)Counting objects:  28% (2/7)Counting objects:  42% (3/7)Counting objects:  57% (4/7)Counting objects:  71% (5/7)Counting objects:  85% (6/7)Counting objects: 100% (7/7)Counting objects: 100% (7/7), done.
Delta compression using up to 3 threads
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 1.91 KiB | 976.00 KiB/s, done.
Total 4 (delta 2), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/2)[Kremote: Resolving deltas:  50% (1/2)[Kremote: Resolving deltas: 100% (2/2)[Kremote: Resolving deltas: 100% (2/2), completed with 2 local objects.[K
To https://github.com/ppaciekq/App_of_apps.git
   bfc69e1..98b1eda  main -> main
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# ll
[?2004ltotal 96
drwxr-xr-x  4 root root  4096 Dec  1 18:38  [0m[01;34m.[0m/
drwx------ 10 root root  4096 Dec  1 18:00  [01;34m..[0m/
-rw-r--r--  1 root root 73728 Dec  1 18:38 '{'
drwxr-xr-x  8 root root  4096 Dec  1 18:38  [01;34m.git[0m/
-rw-r--r--  1 root root  1934 Dec  1 18:38  Jenkinsfile
drwxr-xr-x  3 root root  4096 Dec  1 17:19  [01;34mtest[0m/
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# cd test/
[?2004l[?2004h]0;root@vagrant: ~/App_of_apps/testroot@vagrant:~/App_of_apps/test# ll
[?2004ltotal 12
drwxr-xr-x 3 root root 4096 Dec  1 17:19 [0m[01;34m.[0m/
drwxr-xr-x 4 root root 4096 Dec  1 18:38 [01;34m..[0m/
drwxr-xr-x 2 root root 4096 Dec  1 17:19 [01;34mselenium[0m/
[?2004h]0;root@vagrant: ~/App_of_apps/testroot@vagrant:~/App_of_apps/test# cd d[Kselenium/
[?2004l[?2004h]0;root@vagrant: ~/App_of_apps/test/seleniumroot@vagrant:~/App_of_apps/test/selenium# ll
[?2004ltotal 16
drwxr-xr-x 2 root root 4096 Dec  1 17:19 [0m[01;34m.[0m/
drwxr-xr-x 3 root root 4096 Dec  1 17:19 [01;34m..[0m/
-rw-r--r-- 1 root root   55 Dec  1 17:19 requirements.txt
-rw-r--r-- 1 root root 1067 Dec  1 17:19 selenium_test.py
[?2004h]0;root@vagrant: ~/App_of_apps/test/seleniumroot@vagrant:~/App_of_apps/test/selenium# nanno [K[K[Ko selenium_test.py 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 32 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                             selenium_test.py                                                                                                      [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2d(B[0;1m[36mimport[39m(B[m unittest[3d(B[0;1m[36mfrom[39m(B[m selenium (B[0;1m[36mimport[39m(B[m webdriver[4d(B[0;1m[36mfrom[39m(B[m selenium.webdriver.common.keys (B[0;1m[36mimport[39m(B[m Keys[5d(B[0;1m[36mfrom[39m(B[m os (B[0;1m[36mimport[39m(B[m environ[6d(B[0;1m[36mfrom[39m(B[m selenium.webdriver.common.by (B[0;1m[36mimport[39m(B[m By[8dapplication_URL = environ.get((B[0;1m[32m'APPLICATION_URL'[39m(B[m, (B[0;1m[32m'http://192.168.44.44:5000/'[39m(B[m)[9dselenium_URL = environ.get((B[0;1m[32m'SELENIUM_URL'[39m(B[m, (B[0;1m[32m'http://192.168.44.44:4444/wd/hub'[39m(B[m)[12d(B[0;1m[36mclass[39m(B[m AppTest(unittest.TestCase):[13;5H(B[0;1m[36mdef[34m setUp[39m(B[m(self):[14;9Hself.driver = webdriver.Firefox()[15;8H(B[0;1m[31m # self.driver = webdriver.Remote([16;8H #     command_executor=selenium_URL,[17;8H #     options=webdriver.FirefoxOptions())[19;5H[36mdef[34m test_our_app[39m(B[m(self):[20;9Hdriver = self.driver[21;9Hdriver.set_page_load_timeout(5)[22;9Hdriver.set_script_timeout(5)[23;9Hdriver.get(application_URL)[24;9Helem = driver.find_element(By.NAME, (B[0;1m[32m"name"[39m(B[m)[25;9Helem.send_keys((B[0;1m[32m"luka"[39m(B[m)[26;9Helem = driver.find_element(By.NAME, (B[0;1m[32m"animal"[39m(B[m)[27;9Helem.send_keys((B[0;1m[32m"dog"[39m(B[m)[2d[?12l[?25h[?25l[1;125H(B[0;7m*[224G(B[m[?12l[?25h[2d\(B[0;1m[36mimport[39m(B[m unittest\[?25l[?12l[?25h[8d[?25l[?12l[?25h[14d[?25l[?12l[?25h[20d[?25l[28d[K[?12l[?25h[26d [?25l[?12l[?25h[2;28r[28;1H[5S[1;30r[23;9Helem.send_keys(Keys.RETURN)[24;9Hself.assertNotIn((B[0;1m[32m"No results found."[39m(B[m, driver.page_source)[25;9Hdriver.quit()[27d(B[0;1m[36mif[39m(B[m __name__ == (B[0;1m[32m"__main__"[39m(B[m:[C[?25l[?12l[?25h7[2;28r8[28d[2S[1;30r[26;5Hunittest.main()[27d[?25l[?12l[?25h[?25l[?12l[?25h[22d [?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h(B[0;1m[31m #self.driver = webdriver.Firefox()[7;10H[39m(B[m[?25l[?12l[?25h[8d[?25l[?12l[?25h[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[?25l[?12l[?25h[C[?25l[?12l[?25h(B[0;1m[31m self.driver = webdriver.Firefox()[7;11H[39m(B[m[?25l[?12l[?25h[8d[?25l[?12l[?25h[?25l[?12l[?25h[C[?25l[?12l[?25h[?25l[?12l[?25h  self.driver = webdriver.Remote([K[8;9H[?25l[?12l[?25h[9d[?25l[?12l[?25h    [1K command_executor=selenium_URL,[K[9;9H[?25l[?12l[?25h[10d[?25l[?12l[?25h    [1K options=webdriver.FirefoxOptions())[K[10;9H[?25l[28;83H(B[0;7m[ line 16/33 (48%), col  9/49 ( 18%), char  516/1067 (48%) ](B[m[?12l[?25h[10;9H[?25l[28d(B[0;7mSave modified buffer?                                                                                                                                                                                                            [29;1H Y(B[m Yes[K[30d(B[0;7m N(B[m No  [30;17H(B[0;7m^C(B[m Cancel[K[28;23H[?12l[?25h[?25l[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_apps/test/seleniumroot@vagrant:~/App_of_apps/test/selenium# nano selenium_test.py 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 32 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                             selenium_test.py                                                                                                      [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2d(B[0;1m[36mimport[39m(B[m unittest[3d(B[0;1m[36mfrom[39m(B[m selenium (B[0;1m[36mimport[39m(B[m webdriver[4d(B[0;1m[36mfrom[39m(B[m selenium.webdriver.common.keys (B[0;1m[36mimport[39m(B[m Keys[5d(B[0;1m[36mfrom[39m(B[m os (B[0;1m[36mimport[39m(B[m environ[6d(B[0;1m[36mfrom[39m(B[m selenium.webdriver.common.by (B[0;1m[36mimport[39m(B[m By[8dapplication_URL = environ.get((B[0;1m[32m'APPLICATION_URL'[39m(B[m, (B[0;1m[32m'http://192.168.44.44:5000/'[39m(B[m)[9dselenium_URL = environ.get((B[0;1m[32m'SELENIUM_URL'[39m(B[m, (B[0;1m[32m'http://192.168.44.44:4444/wd/hub'[39m(B[m)[12d(B[0;1m[36mclass[39m(B[m AppTest(unittest.TestCase):[13;5H(B[0;1m[36mdef[34m setUp[39m(B[m(self):[14;9Hself.driver = webdriver.Firefox()[15;8H(B[0;1m[31m # self.driver = webdriver.Remote([16;8H #     command_executor=selenium_URL,[17;8H #     options=webdriver.FirefoxOptions())[19;5H[36mdef[34m test_our_app[39m(B[m(self):[20;9Hdriver = self.driver[21;9Hdriver.set_page_load_timeout(5)[22;9Hdriver.set_script_timeout(5)[23;9Hdriver.get(application_URL)[24;9Helem = driver.find_element(By.NAME, (B[0;1m[32m"name"[39m(B[m)[25;9Helem.send_keys((B[0;1m[32m"luka"[39m(B[m)[26;9Helem = driver.find_element(By.NAME, (B[0;1m[32m"animal"[39m(B[m)[27;9Helem.send_keys((B[0;1m[32m"dog"[39m(B[m)[2d[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[4d[?25l[?12l[?25h[5d[?25l[?12l[?25h[6d[?25l[?12l[?25h[7d[?25l[?12l[?25h[8d[?25l[?12l[?25h[9d[?25l[?12l[?25h[10d[?25l[?12l[?25h[11d[?25l[?12l[?25h[12d[?25l[?12l[?25h[13d[?25l[?12l[?25h[14d[?25l[?12l[?25h[15d[?25l[?12l[?25h[A[?25l[1;125H(B[0;7m*[224G(B[m[?12l[?25h[14d(B[0;1m[31m#        self.driver = webdriver.Firefox()#[39m(B[m[?25l[?12l[?25h[15d[?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[28d[K[?12l[?25h[15;4H[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[C[?25l[?12l[?25h[?25l[?12l[?25h  self.driver = webdriver.Remote([K[15;9H[?25l[?12l[?25h[16d[?25l[?12l[?25h[C[?25l[?12l[?25h   [1K command_executor=selenium_URL,[K[16;9H[?25l[?12l[?25h[17d[?25l[?12l[?25h[C[?25l[?12l[?25h   [1K options=webdriver.FirefoxOptions())[K[17;9H[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;125H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 32 lines ](B[m[?12l[?25h[17;9H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_apps/test/seleniumroot@vagrant:~/App_of_apps/test/selenium# nano selenium_test.py [Knano selenium_test.py 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 32 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                             selenium_test.py                                                                                                      [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2d(B[0;1m[36mimport[39m(B[m unittest[3d(B[0;1m[36mfrom[39m(B[m selenium (B[0;1m[36mimport[39m(B[m webdriver[4d(B[0;1m[36mfrom[39m(B[m selenium.webdriver.common.keys (B[0;1m[36mimport[39m(B[m Keys[5d(B[0;1m[36mfrom[39m(B[m os (B[0;1m[36mimport[39m(B[m environ[6d(B[0;1m[36mfrom[39m(B[m selenium.webdriver.common.by (B[0;1m[36mimport[39m(B[m By[8dapplication_URL = environ.get((B[0;1m[32m'APPLICATION_URL'[39m(B[m, (B[0;1m[32m'http://192.168.44.44:5000/'[39m(B[m)[9dselenium_URL = environ.get((B[0;1m[32m'SELENIUM_URL'[39m(B[m, (B[0;1m[32m'http://192.168.44.44:4444/wd/hub'[39m(B[m)[12d(B[0;1m[36mclass[39m(B[m AppTest(unittest.TestCase):[13;5H(B[0;1m[36mdef[34m setUp[39m(B[m(self):[14d(B[0;1m[31m#        self.driver = webdriver.Firefox()[15;10H[39m(B[mself.driver = webdriver.Remote([16;14Hcommand_executor=selenium_URL,[17;14Hoptions=webdriver.FirefoxOptions())[19;5H(B[0;1m[36mdef[34m test_our_app[39m(B[m(self):[20;9Hdriver = self.driver[21;9Hdriver.set_page_load_timeout(5)[22;9Hdriver.set_script_timeout(5)[23;9Hdriver.get(application_URL)[24;9Helem = driver.find_element(By.NAME, (B[0;1m[32m"name"[39m(B[m)[25;9Helem.send_keys((B[0;1m[32m"luka"[39m(B[m)[26;9Helem = driver.find_element(By.NAME, (B[0;1m[32m"animal"[39m(B[m)[27;9Helem.send_keys((B[0;1m[32m"dog"[39m(B[m)[2d[?12l[?25h[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[19d[?25l[28d[K[?12l[?25h[24d[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[25;9Helem.send_keys(Keys.RETURN)[26;9Hself.assertNotIn((B[0;1m[32m"No results found."[39m(B[m, driver.page_source)[27;9Hdriver.quit()[?25l[?12l[?25h7[2;28r8[28d[4S[1;30r[25;1H(B[0;1m[36mif[39m(B[m __name__ == (B[0;1m[32m"__main__"[39m(B[m:[26;5Hunittest.main()[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[23d[?25l[?12l[?25h[17d[?25l[?12l[?25h[11d[?25l[?12l[?25h[2;27r[2;1H[7T[1;30r[2;1H(B[0;1m[36mimport[39m(B[m unittest[3d(B[0;1m[36mfrom[39m(B[m selenium (B[0;1m[36mimport[39m(B[m webdriver[4d(B[0;1m[36mfrom[39m(B[m selenium.webdriver.common.keys (B[0;1m[36mimport[39m(B[m Keys[5d(B[0;1m[36mfrom[39m(B[m os (B[0;1m[36mimport[39m(B[m environ[6d(B[0;1m[36mfrom[39m(B[m selenium.webdriver.common.by (B[0;1m[36mimport[39m(B[m By[8dapplication_URL = environ.get((B[0;1m[32m'APPLICATION_URL'[39m(B[m, (B[0;1m[32m'http://192.168.44.44:5000/'[39m(B[m)[2d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[19d[?25l[?12l[?25h[25d[?25l[?12l[?25h[2;28r[28;1H[4S[1;30r[24;9Helem.send_keys(Keys.RETURN)[25;9Hself.assertNotIn((B[0;1m[32m"No results found."[39m(B[m, driver.page_source)[26;9Hdriver.quit()[27d[?25l[?12l[?25h7[2;28r8[28d[3S[1;30r[25;1H(B[0;1m[36mif[39m(B[m __name__ == (B[0;1m[32m"__main__"[39m(B[m:[26;5Hunittest.main()[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[29d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_apps/test/seleniumroot@vagrant:~/App_of_apps/test/selenium# cd ..
[?2004l[?2004h]0;root@vagrant: ~/App_of_apps/testroot@vagrant:~/App_of_apps/test# cd ..
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# cat Jenkinsfile 
[?2004ldef frontendImage="ppaciekq/Frontend"
def backendImage="ppaciekq/Backend"
def dockerRegistry=""
def registryCredentials="dockerhub"

pipeline {
 
   agent {
        label 'agent'
    }

 
    parameters {
        string(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')
        string(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')
    }


    stages {


        stage('Get Code') {
            steps {
                checkout scm // Get some code from a GitHub repository
            }
        }


        stage('Adjust version') {
            steps {
                script{
                    backendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag
                    frontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag
                    
                    currentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"
                }
            }
        }



        stage('Remove Containers') {
            steps {
                script {
                    sh 'docker rm -f backend || true' 
                    sh 'docker rm -f frontend || true'
                }
            }
        }


        stage('Deploy application') {
            steps {
                script {
                    withEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag", 
                             "BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {
                       docker.withRegistry("$dockerRegistry", "$registryCredentials") {
                            sh "docker-compose up -d"
                        }
                    }
                }
            }
        }



    }
}



    post {
        always {
            script {
                sh 'docker-compose down || true'
                cleanWS()
            }
        }
    }
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# cat Jenkinsfile [Knano Jenkinsfile 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 79 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                               Jenkinsfile                                                                                                         [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2ddef frontendImage="ppaciekq/Frontend"[3ddef backendImage="ppaciekq/Backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[14dparameters {[15;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[16;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[17;5H}[20dstages {[23;9Hstage('Get Code') {[24;13Hsteps {[25;17Hcheckout scm // Get some code from a GitHub repository[26;13H}[27;9H}[2d[?12l[?25h[?25l[?12l[?25h[8d[?25l[?12l[?25h[14d[?25l[?12l[?25h[20d[?25l[28d[K[?12l[?25h[26d[?25l[?12l[?25h[2;28r[28;1H[11S[1;30r[19;9Hstage('Adjust version') {[20;13Hsteps {[21;17Hscript{[22;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[23;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[25;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[26;17H}[27;13H}[?25l[?12l[?25h7[2;28r8[28d[11S[1;30r[17;9H}[21dstage('Remove Containers') {[22;13Hsteps {[23;17Hscript {[24;21Hsh 'docker rm -f backend || true'[25;21Hsh 'docker rm -f frontend || true'[26;17H}[27;13H}[?25l[?12l[?25h7[2;28r8[28d[12S[1;30r[16;9H}[19dstage('Deploy application') {[20;13Hsteps {[21;17Hscript {[22;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[23;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[24;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[25;29Hsh "docker-compose up -d"[26;25H}[27;21H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17H}[23;13H}[24;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;5H}[23d}[27;5Hpost {[?25l[?12l[?25h7[2;28r8[28d[8S[1;30r[20;9Halways {[21;13Hscript {[22;17Hsh 'docker-compose down || true'[23;17HcleanWS()[24;13H}[25;9H}[26;5H}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[17d[?25l[?12l[?25h[11d[?25l[1;122H(B[0;7m*[224G(B[m[11;28r[11;1HM[1;30r[12;1H[?12l[?25h[?25l[11;27r[11;1HM[1;30r[13;1H[?12l[?25h[?25l[11;27r[11;1HM[1;30r[14;1H[?12l[?25h[?25l[11;27r[11;1HM[1;30r[15;1H[?12l[?25h[?25l[11;27r[11;1HM[1;30r[16;1H[?12l[?25h[?25l[11;27r[11;1HM[1;30r[17;1H[?12l[?25h[?25l[11;27r[11;1HM[1;30r[18;1H[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[11d[?25l[?12l[?25h[12d[?25l[?12l[?25h[A[?25l[?12l[?25h[12d[?25l[?12l[?25h[13d[?25l[13;9Hstage('Selenium tests') {[14;13Hsteps {[15;17Hscript {[16;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[17;25Hsh 'pip3 install -r requirements.txt' // Instalacja zaleÅ¼noÅ›ci z requirements.txt[18;25Hsh 'python3 -m pytest test' // Uruchomienie testÃ³w Selenium[19;21H}[20;17H}[21;12H[1K }[22;8H[1K }[26d[K[27d[K[22;10H[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[19d[?25l[?12l[?25h[20d[?25l[?12l[?25h[21d[?25l[?12l[?25h[22d[?25l[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[14d[?25l[?12l[?25h[15d[?25l[?12l[?25h[16d[?25l[?12l[?25h[17d[?25l[?12l[?25h[18d[?25l[?12l[?25h[19d[?25l[?12l[?25h[20d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[19;22H[?25l[?12l[?25h[?25l[?12l[?25h}[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[18;84H[?25l[?12l[?25h[?25l[?12l[?25hm[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[17;106H[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;122H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 95 lines ](B[m[?12l[?25h[17;62H[?25l[?12l[?25h[11d[?25l[?12l[?25h[5;54H[?25l[?12l[?25h[2;27r[2;1H[3T[1;30r[2;9Hstage('Deploy application') {[3;13Hsteps {[4;17Hscript {[2;38H[?25l[28d[K[?12l[?25h[2;27r[2;1H[6T[1;30r[2;21Hsh 'docker rm -f frontend || true'[3;17H}[4;13H}[5;9H}[2;55H[?25l[?12l[?25h7[2;27r8[6T[1;30r[4;9Hstage('Remove Containers') {[5;13Hsteps {[6;17Hscript {[7;21Hsh 'docker rm -f backend || true'[2d[?25l[?12l[?25h[7;55H[?25l[?12l[?25h[13d[?25l[?12l[?25h[19;62H[?25l[?12l[?25h[25;10H[?25l[?12l[?25h[2;28r[28;1H[4S[1;30r[24;9Hstage('Selenium tests') {[25;13Hsteps {[26;17Hscript {[27;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;25Hsh 'pip3 install -r requirements.txt'[23;25Hsh 'python3 -m pytest test'[24;21H}[25;17H}[26;13H}[27;9H}[?25l[?12l[?25h7[2;28r8[28d[5S[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[24;5H}[25d}[27d[?25l[?12l[?25h[22d[?25l[?12l[?25h[17d[?25l[?12l[?25h[11;62H[?25l[?12l[?25h[5d[?25l[?12l[?25h[2;27r[2;1H[3T[1;30r[2;29Hsh "docker-compose up -d"[3;25H}[4;21H}[2;54H[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;9Hstage('Deploy application') {[3;13Hsteps {[4;17Hscript {[5;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[6;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[7;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[2;38H[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;21Hsh 'docker rm -f frontend || true'[3;17H}[4;13H}[5;9H}[2;55H[?25l[?12l[?25h7[2;27r8[6T[1;30r[4;9Hstage('Remove Containers') {[5;13Hsteps {[6;17Hscript {[7;21Hsh 'docker rm -f backend || true'[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[3;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[4;17H}[5;13H}[6;9H}[2;21H[?25l[?12l[?25h7[2;27r8[11T[1;30r[2;13Hsteps {[3;17Hcheckout scm // Get some code from a GitHub repository[4;13H}[5;9H}[8dstage('Adjust version') {[9;13Hsteps {[10;17Hscript{[11;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[12;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[2;20H[?25l[?12l[?25h7[2;27r8[6T[1;30r[4;5Hstages {[7;9Hstage('Get Code') {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[4;5Hparameters {[5;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[6;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[7;5H}[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[3;1Hpipeline {[5;4Hagent {[6dlabel 'agent'[7;5H}[2d[?25l[?12l[?25h7[2;28r8[4T[1;30r[2;1Hdef frontendImage="ppaciekq/Frontend"[3ddef backendImage="ppaciekq/Backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[2dd"[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[7;11H[?25l[?12l[?25h[13d [?25l[?12l[?25h[19d[?25l[?12l[?25h[2;28r[28;1H[10S[1;30r[20;9Hstage('Adjust version') {[21;13Hsteps {[22;17Hscript{[23;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[24;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[26;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[27;17H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13H}[23;9H}[27dstage('Remove Containers') {[?25l[?12l[?25h[3;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[4;16H[1K }[5;13H}[6;9H}[7d[K[8d[K[9d[K[10;9Hstage('Remove Containers') {[11;9H    steps {[12;17Hscript {[13;21Hsh 'docker rm -f backend || true'[14;20H[1K sh 'docker rm -f frontend || true'[15;13H    }[K[16;13H}[K[17;9H}[K[18d[K[20;9Hstage('Deploy application') {[K[21;13Hsteps {[22;13H    script {[23;20H[1K withEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[24;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[25;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[26;29Hsh "docker-compose up -d"[27;24H[1K }[K[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;21H}[23;17H}[24;13H}[25;9H}[27d[?25l[?12l[?25h[2;29Hsh "docker-compose up -d"[3;25H}[4;20H[1K }[K[5;13H    }[K[6;13H}[K[7;9H}[K[8d[K[9d[K[10;9Hstage('Selenium tests') {[11;9H    steps {[12;17Hscript {[13;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[14;24H[1K sh 'pip3 install -r requirements.txt'[15;24H[1K sh 'python3 -m pytest test'[16;17H    }[K[17;17H}[K[18;13H}[K[19;9H}[K[20d[K[21d[K[22d[K[23d[K[24d[K[25d[K[27;5H}[?25l[?12l[?25h7[2;28r8[28d[13S[1;30r[15;1H}[19;5Hpost {[20dalways {[21;13Hscript {[22;17Hsh 'docker-compose down || true'[23;17HcleanWS()[24;13H}[25;9H}[26;5H}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[22;49H[?25l[?12l[?25h[10d[?25l[?12l[?25h[4;18H[?25l[?12l[?25h[2;27r[2;1H[4T[1;30r[2;13Hsteps {[3;17Hscript {[4;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[5;25Hsh 'pip3 install -r requirements.txt'[2;20H[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;17H}[3;13H}[4;9H}[7dstage('Selenium tests') {[2;18H[?25l[?12l[?25h7[2;28r8[5T[1;30r[2;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[3;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[4;29Hsh "docker-compose up -d"[5;25H}[6;21H}[2;62H[?25l[?12l[?25h7[2;28r8[6T[1;30r[4;9Hstage('Deploy application') {[5;13Hsteps {[6;17Hscript {[7;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;17Hscript {[3;21Hsh 'docker rm -f backend || true'[4;21Hsh 'docker rm -f frontend || true'[5;17H}[6;13H}[7;9H}[2;25H[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;9H}[6dstage('Remove Containers') {[7;13Hsteps {[2;10H[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[3;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[5;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[6;17H}[7;13H}[2;62H[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;9H}[5dstage('Adjust version') {[6;13Hsteps {[7;17Hscript{[2;10H[?25l[?12l[?25h[7;24H[?25l[?12l[?25h[19;20H[?25l[?12l[?25h[25;10H[?25l[?12l[?25h[2d[K[3;9Hstage('Remove Containers') {[4;13Hsteps {[5;16H[1K script {[K[6;20H[1K sh 'docker rm -f backend || true'[7;17H    sh 'docker rm -f frontend || true'[8;17H}[K[9;13H}[K[10;9H}[11d[K[12d[K[13;9Hstage('Deploy application') {[14;9H    steps {[15;17Hscript {[16;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[17;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[18;23H[1K docker.withRegistry("$dockerRegistry", "$registryCredentials") {[19;28H[1K sh "docker-compose up -d"[20;24H[1K }[21;21H}[K[22;17H}[K[23;13H}[K[24;9H}[K[25d[K[27;9Hstage('Selenium tests') {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13Hsteps {[23;17Hscript {[24;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[25;25Hsh 'pip3 install -r requirements.txt'[26;25Hsh 'python3 -m pytest test'[27;21H}[?25l[?12l[?25h[2;24H[1K sh 'python3 -m pytest test'[3;20H[1K }[4;16H[1K }[5;13H}[6;9H}[7d[K[8d[K[9d[K[10d[K[11d[K[12d[K[13d[K[14;5H}[K[15d}[K[16d[K[17d[K[18d[K[19;5Hpost {[20dalways {[21;9H    script {[K[22;13H    sh 'docker-compose down || true'[23;17HcleanWS()[24;13H}[K[25;9H}[K[26;5H}[K[27d[K[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[22;49H[?25l[?12l[?25h[17d[?25l[?12l[?25h[11d[?25l[?12l[?25h[5;14H[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;224H[28;104H(B[0;7m[ Wrote 95 lines ](B[m[?12l[?25h[5;14H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jenkinsfile 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 95 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                               Jenkinsfile                                                                                                         [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2ddef frontendImage="ppaciekq/Frontend"[3ddef backendImage="ppaciekq/Backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[14dparameters {[15;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[16;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[17;5H}[20dstages {[23;9Hstage('Get Code') {[24;13Hsteps {[25;17Hcheckout scm // Get some code from a GitHub repository[26;13H}[27;9H}[2d[?12l[?25h[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[18d[?25l[28d[K[?12l[?25h[24d[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[27;9Hstage('Adjust version') {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13Hsteps {[23;17Hscript{[24;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[25;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[27;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17H}[23;13H}[24;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;9Hstage('Remove Containers') {[23;13Hsteps {[24;17Hscript {[25;21Hsh 'docker rm -f backend || true'[26;21Hsh 'docker rm -f frontend || true'[27;17H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13H}[23;9H}[26dstage('Deploy application') {[27;13Hsteps {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17Hscript {[23;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[24;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[25;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[26;29Hsh "docker-compose up -d"[27;25H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;21H}[23;17H}[24;13H}[25;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[5S[1;30r[23;9Hstage('Selenium tests') {[24;13Hsteps {[25;17Hscript {[26;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[27;25Hsh 'pip3 install -r requirements.txt'[?25l[?12l[?25h7[2;28r8[28d[12S[1;30r[16;25Hsh 'python3 -m pytest test'[17;21H}[18;17H}[19;13H}[20;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[12S[1;30r[16;5H}[17d}[21;5Hpost {[22dalways {[23;13Hscript {[24;17Hsh 'docker-compose down || true'[25;17HcleanWS()[26;13H}[27;9H}[?25l[?12l[?25h7[2;28r8[28d[2S[1;30r[26;5H}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;27r[2;1H[3T[1;30r[2;17Hscript {[3;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[4;25Hsh 'pip3 install -r requirements.txt'[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;13H}[3;9H}[6dstage('Selenium tests') {[7;13Hsteps {[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[3;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[4;29Hsh "docker-compose up -d"[5;25H}[6;21H}[7;17H}[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[4;9Hstage('Deploy application') {[5;13Hsteps {[6;17Hscript {[7;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;17Hscript {[3;21Hsh 'docker rm -f backend || true'[4;21Hsh 'docker rm -f frontend || true'[5;17H}[6;13H}[7;9H}[2d[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[19d[?25l[?12l[?25h[25d[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[25;25Hsh 'pip3 install -r requirements.txt'[26;25Hsh 'python3 -m pytest test'[27;21H}[?25l[?12l[?25h[23d[?25l[?12l[?25h[17d[?25l[?12l[?25h[11d[?25l[?12l[?25h[5d[?25l[?12l[?25h[2;27r[2;1H[3T[1;30r[2;17Hscript {[3;21Hsh 'docker rm -f backend || true'[4;21Hsh 'docker rm -f frontend || true'[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;9H}[6dstage('Remove Containers') {[7;13Hsteps {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[3;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[5;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[6;17H}[7;13H}[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;9H}[5dstage('Adjust version') {[6;13Hsteps {[7;17Hscript{[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[4;9Hstage('Get Code') {[5;13Hsteps {[6;17Hcheckout scm // Get some code from a GitHub repository[7;13H}[2d[?25l[?12l[?25h7[2;28r8[5T[1;30r[2;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[3;5H}[6dstages {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;9Hlabel 'agent'[3;5H}[6dparameters {[7;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;1Hdef dockerRegistry=""[3ddef registryCredentials="dockerhub"[5dpipeline {[7;4Hagent {[2d[?25l[?12l[?25h7[2;28r8[2T[1;30r[2;1Hdef frontendImage="ppaciekq/Frontend"[3ddef backendImage="ppaciekq/Backend"[A[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[18d[?25l[?12l[?25h[24d[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[27;9Hstage('Adjust version') {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13Hsteps {[23;17Hscript{[24;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[25;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[27;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17H}[23;13H}[24;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;9Hstage('Remove Containers') {[23;13Hsteps {[24;17Hscript {[25;21Hsh 'docker rm -f backend || true'[26;21Hsh 'docker rm -f frontend || true'[27;17H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13H}[23;9H}[26dstage('Deploy application') {[27;13Hsteps {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17Hscript {[23;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[24;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[25;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[26;29Hsh "docker-compose up -d"[27;25H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;21H}[23;17H}[24;13H}[25;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[5S[1;30r[23;9Hstage('Selenium tests') {[24;13Hsteps {[25;17Hscript {[26;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[27;25Hsh 'pip3 install -r requirements.txt'[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;25Hsh 'python3 -m pytest test'[23;21H}[24;17H}[25;13H}[26;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[27;1H[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[11d[?25l[?12l[?25h[5d[?25l[?12l[?25h[2;28r[2;1H[3T[1;30r[2;17Hscript {[3;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[4;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;13H}[3;9H}[6dstage('Deploy application') {[7;13Hsteps {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;9Hstage('Remove Containers') {[3;13Hsteps {[4;17Hscript {[5;21Hsh 'docker rm -f backend || true'[6;21Hsh 'docker rm -f frontend || true'[7;17H}[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;17H}[3;13H}[4;9H}[2d[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[19d[?25l[?12l[?25h[25d[?25l[?12l[?25h[2;28r[28;1H[4S[1;30r[24;13H}[25;9H}[27d[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;27r[2;1H[4T[1;30r[2;17H}[3;13H}[4;9H}[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;13Hsteps {[3;17Hscript{[4;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[5;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[7;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;17Hcheckout scm // Get some code from a GitHub repository[3;13H}[4;9H}[7dstage('Adjust version') {[2d[?25l[?12l[?25h7[2;28r8[11T[1;30r[2;5Hparameters {[3;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[4;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[5;5H}[8dstages {[11;9Hstage('Get Code') {[12;13Hsteps {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[3;4Hagent {[4dlabel 'agent'[5;5H}[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;1Hdef frontendImage="ppaciekq/Frontend"[3ddef backendImage="ppaciekq/Backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[2d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[19d[?25l[?12l[?25h[24d[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[27;9Hstage('Adjust version') {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13Hsteps {[23;17Hscript{[24;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[25;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[27;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[?25l[?12l[?25h7[2;28r8[28d[12S[1;30r[16;17H}[17;13H}[18;9H}[22dstage('Remove Containers') {[23;13Hsteps {[24;17Hscript {[25;21Hsh 'docker rm -f backend || true'[26;21Hsh 'docker rm -f frontend || true'[27;17H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13H}[23;9H}[26dstage('Deploy application') {[27;13Hsteps {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17Hscript {[23;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[24;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[25;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[26;29Hsh "docker-compose up -d"[27;25H}[?25l[?12l[?25h7[2;28r8[28d[11S[1;30r[17;21H}[18;17H}[19;13H}[20;9H}[23dstage('Selenium tests') {[24;13Hsteps {[25;17Hscript {[26;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[27;25Hsh 'pip3 install -r requirements.txt'[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;25Hsh 'python3 -m pytest test'[23;21H}[24;17H}[25;13H}[26;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;5H}[23d}[27;5Hpost {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;9Halways {[23;13Hscript {[24;17Hsh 'docker-compose down || true'[25;17HcleanWS()[26;13H}[27;9H}[?25l[?12l[?25h7[2;28r8[28d[2S[1;30r[26;5H}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;27r[2;1H[4T[1;30r[2;13Hsteps {[3;17Hscript {[4;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[5;25Hsh 'pip3 install -r requirements.txt'[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;17H}[3;13H}[4;9H}[7dstage('Selenium tests') {[2d[?25l[?12l[?25h7[2;28r8[5T[1;30r[2;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[3;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[4;29Hsh "docker-compose up -d"[5;25H}[6;21H}[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[4;9Hstage('Deploy application') {[5;13Hsteps {[6;17Hscript {[7;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;17Hscript {[3;21Hsh 'docker rm -f backend || true'[4;21Hsh 'docker rm -f frontend || true'[5;17H}[6;13H}[7;9H}[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;9H}[6dstage('Remove Containers') {[7;13Hsteps {[2d[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[19d[?25l[?12l[?25h[24d[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[27;9Hstage('Selenium tests') {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13Hsteps {[23;17Hscript {[24;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[25;25Hsh 'pip3 install -r requirements.txt'[26;25Hsh 'python3 -m pytest test'[27;21H}[?25l[?12l[?25h[22d[?25l[?12l[?25h[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17H}[23;13H}[24;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[26;5H}[27d}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[25;5Hpost {[26dalways {[27;13Hscript {[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;28r[2;1H[4T[1;30r[2;17H}[3;13H}[4;9H}[2d[?25l[?12l[?25h7[2;28r8[5T[1;30r[2;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[3;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[4;29Hsh "docker-compose up -d"[5;25H}[6;21H}[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[4;9Hstage('Deploy application') {[5;13Hsteps {[6;17Hscript {[7;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[2d[?25l[?12l[?25h[7d[?25l[?12l[?25h[2d[?25l[29d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# cd ..
[?2004l[?2004h]0;root@vagrant: ~root@vagrant:~# cd Infrastructure/
[?2004l[?2004h]0;root@vagrant: ~/Infrastructureroot@vagrant:~/Infrastructure# ll
[?2004ltotal 28
drwxr-xr-x  6 root root 4096 Dec  1 17:05 [0m[01;34m.[0m/
drwx------ 10 root root 4096 Dec  1 18:00 [01;34m..[0m/
drwxr-xr-x  2 root root 4096 Nov 29 20:32 [01;34martifactory[0m/
-rw-r--r--  1 root root 2097 Dec  1 16:51 docker-compose.yaml
drwxr-xr-x  8 root root 4096 Dec  1 18:01 [01;34m.git[0m/
drwxr-xr-x  2 root root 4096 Nov 29 20:32 [01;34mjenkins_agent[0m/
drwxr-xr-x  2 root root 4096 Nov 29 20:32 [01;34mjenkins_controller[0m/
[?2004h]0;root@vagrant: ~/Infrastructureroot@vagrant:~/Infrastructure# nano docker-compose.yaml 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 81 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                           docker-compose.yaml                                                                                                     [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2d[92mversion[39m: [95m'2.4'[4d[92mservices[39m:[6;3H[92mjenkins[39m:[7d(B[0m[3m[36m #   depends_on:[8d #     artifactory:[9d #       condition: service_healthy[10;5H(B[0m[23m[92mbuild[39m: (B[mjenkins_controller[11;5H[92mcontainer_name[39m: (B[mjenkins[12;5H[92mports[39m:[13;6H(B[0;1m[33m[1K - (B[0m[95m"8880:8080"[14;6H(B[0;1m[33m[1K - (B[0m[95m"50000:50000"[15;5H[92mrestart[39m: (B[malways[16;5H[92mvolumes[39m:[17;6H(B[0;1m[33m[1K - [39m(B[m./jenkins_controller/jenkins.yaml:/usr/share/jenkins/ref/jenkins.yaml[19;3H[92msonarqube[39m:[20;5H[92mimage[39m: (B[msonarqube:10.2.1-community[21;5H[92mcontainer_name[39m: (B[msonarqube[22;5H[92mdepends_on[39m:[23;6H(B[0;1m[33m[1K - [39m(B[mjenkins[24;5H[92mports[39m:[25;6H(B[0;1m[33m[1K - (B[0m[95m"9000:9000"[26;5H[92mrestart[39m: (B[malways[2d[?12l[?25h[?25l[?12l[?25h[7d[?25l[?12l[?25h[12d[?25l[?12l[?25h[18d[?25l[28d[K[?12l[?25h7[2;28r8[3S[1;30r[25;3H[92mjenkins_agent[39m:[26;5H[92mbuild[39m: (B[mjenkins_agent[27;5H[92mcontainer_name[39m: (B[mjenkins_agent[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;5H[92mdepends_on[39m:[23;6H(B[0;1m[33m[1K - [39m(B[mjenkins[24;5H[92mports[39m:[25;6H(B[0;1m[33m[1K - (B[0m[95m"2222:22"[26;5H[92mvolumes[39m:[27;6H(B[0;1m[33m[1K - [39m(B[m/var/run/docker.sock:/var/run/docker.sock[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;5H[92menvironment[39m:[23;7H[92mJENKINS_AGENT_SSH_PUBKEY[39m: [95m"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCaJxXl+C4GsmIcrsXQ+mqS/t9SNsFrtj5LffdnNr8+9a40UUHDX1mKe26U8oSarCciLYEtXWsWtl1VmQS6JAdVI5vZKS2J0Nt6oe+AH9y2PhL6wtqUsel2aJHUk8w13Dfkt+w6tZBQxCuzBDvWRt6hspr[39m(B[0;7m>[24;5H(B[0m[92mrestart[39m: (B[malways[26;3H[92mselenium_hub[39m:[27;5H[92mimage[39m: (B[mselenium/hub[?25l[?12l[?25h7[19;28r8[28d[3S[1;30r[2;1H[K[3d  [92mselenium_hub[39m:[4;3H(B[m  [92mimage[39m: (B[mselenium/hub[5;5H[92mcontainer_name[39m: (B[mselenium_hub[K[6;5H[92mdepends_on[39m:(B[m[K[7;6H(B[0;1m[33m[1K - [39m(B[mjenkins[8d    [92mports[39m:(B[m[K[9;6H(B[0;1m[33m[1K - (B[0m[95m"4442:4442"[10;10H4443:4443[11;6H(B[0;1m[33m[1K - (B[0m[95m"4444:4444"[12;5H[92mrestart[39m: (B[malways[13d[K[14d  [92mfirefox[C[39m(B[m[K[15;5H[92mimage[39m: (B[mselenium/node-firefox[K[16;5H[92mcontainer_name[39m: (B[mfirefox[17d    [92mdepends_on[39m:[18;6H(B[0;1m[33m[1K - [39m(B[mselenium_hub[20;7H[92mSE_EVENT_BUS_HOST[39m: (B[mselenium_hub[K[21;5H  [92mSE_EVENT_BUS_PUBLISH_PORT[39m: [95m4442[22;7H[92mSE_EVENT_BUS_SUBSCRIBE_PORT[39m: [95m4443[23;3H[39m(B[m  [92mrestart[39m: (B[malways[24d[K[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[24;1H(B[0m[3m[36m#  artifactory:[25d#    image: docker.bintray.io/jfrog/artifactory-jcr:7.39.4[26d#    container_name: artifactory[27d#    ports:[39m(B[m[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;1H(B[0m[3m[36m#      - "8081:8081"[23d#      - "8082:8082"[24d#    volumes:[25d#      - /home/panda/repo/Infrastructure/artifactory/:/artifactory_extra_conf/[26d#    restart: always[27d#    healthcheck:[39m(B[m[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;1H(B[0m[3m[36m#        test: ["CMD", "curl", "-f", "http://192.168.44.44:8082/artifactory/api/system/ping"][23d#        start_period: 30s[24d#        interval: 5s[25d#        timeout: 10s[26d#        retries: 30[27d[39m(B[m[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;27r[2;1H[4T[1;30r[2;5H[92mcontainer_name[39m: (B[mfirefox[3;5H[92mdepends_on[39m:[4;6H(B[0;1m[33m[1K - [39m(B[mselenium_hub[5;5H[92menvironment[39m:[2d(B[m[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;6H(B[0;1m[33m[1K - (B[0m[95m"4443:4443"[3;6H(B[0;1m[33m[1K - (B[0m[95m"4444:4444"[4;5H[92mrestart[39m: (B[malways[6;3H[92mfirefox[39m:[7;5H[92mimage[39m: (B[mselenium/node-firefox[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;5H[92mimage[39m: (B[mselenium/hub[3;5H[92mcontainer_name[39m: (B[mselenium_hub[4;5H[92mdepends_on[39m:[5;6H(B[0;1m[33m[1K - [39m(B[mjenkins[6;5H[92mports[39m:[7;6H(B[0;1m[33m[1K - (B[0m[95m"4442:4442"[2d[39m(B[m[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[19d[?25l[?12l[?25h[25d[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[1;126H(B[0;7m*[224G(B[m[24d[?12l[?25h[?25l[2;28r[28;1H[10S[1;30r[14;1H[92mservices[39m:[15;3H[92mfrontend[39m:[16;5H[92mimage[39m: (B[m$[33m{[39m(B[mFRONTEND_IMAGE[33m}[17;5H[92mcontainer_name[39m: (B[mfrontend[18;5H[92mports[39m:[19;6H(B[0;1m[33m[1K - (B[0m[95m"5000:5000"[20;5H[92menvironment[39m:[21;6H(B[0;1m[33m[1K - [39m(B[mBACKEND_URL=http://backend:5001/[23;3H[92mbackend[39m:[24;5H[92mimage[39m: (B[m$[33m{[39m(B[mBACKEND_IMAGE[33m}[25;5H[92mcontainer_name[39m: (B[mbackend[26;5H[92mports[39m:[27;6H(B[0;1m[33m[1K - (B[0m[95m"5001:5001"[39m(B[m[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[16;20H[?25l[?12l[?25h[10d[?25l[?12l[?25h[4d[?25l[?12l[?25h[9d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;27r[2;1H[3T[1;30r[2;6H(B[0;1m[33m[1K - (B[0m[95m"4444:4444"[3;5H[92mrestart[39m: (B[malways[A[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;5H[92mcontainer_name[39m: (B[mselenium_hub[3;5H[92mdepends_on[39m:[4;6H(B[0;1m[33m[1K - [39m(B[mjenkins[5;5H[92mports[39m:[6;6H(B[0;1m[33m[1K - (B[0m[95m"4442:4442"[7;6H(B[0;1m[33m[1K - (B[0m[95m"4443:4443"[2d[39m(B[m[?25l[?12l[?25h[7d[?25l[?12l[?25h[12d[?25l[?12l[?25h[18d[?25l[?12l[?25h[24;12H[?25l[?12l[?25h[A[?25l[?12l[?25hservices[K[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[K[?25l[21;28r[28;1H
[1;30r[27;6H(B[0;1m[33m[1K - (B[0m[95m"5000:5000"[22d[39m(B[m[?12l[?25h[?25l[21;28r[28;1H
[1;30r[27;5H[92menvironment[39m:[21d(B[m[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[23d[?25l[?12l[?25h[24d[?25l[?12l[?25h[25d[?25l[?12l[?25h[26d[?25l[?12l[?25h[27d[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;6H(B[0;1m[33m[1K - [39m(B[mBACKEND_URL=http://backend:5001/[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;3H[92mbackend[39m:(B[m[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;5H[92mimage[39m: (B[m$[33m{[39m(B[mBACKEND_IMAGE[33m}[39m(B[m[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;5H[92mcontainer_name[39m: (B[mbackend[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;5H[92mports[39m:(B[m[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;6H(B[0;1m[33m[1K - (B[0m[95m"5001:5001"[39m(B[m[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H(B[0m[3m[36m#  artifactory:[39m(B[m[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H(B[0m[3m[36m#    image: docker.bintray.io/jfrog/artifactory-jcr:7.39.4[39m(B[m[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H(B[0m[3m[36m#    container_name: artifactory[39m(B[m[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H(B[0m[3m[36m#    ports:[39m(B[m[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H(B[0m[3m[36m#      - "8081:8081"[39m(B[m[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H(B[0m[3m[36m#      - "8082:8082"[39m(B[m[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[17d[?25l[?12l[?25h[23d[?25l[?12l[?25h[2;28r[28;1H[2S[1;30r[26;1H(B[0m[3m[36m#    volumes:[27d#      - /home/panda/repo/Infrastructure/artifactory/:/artifactory_extra_conf/[39m(B[m[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;27r[2;1H[4T[1;30r[2;7H[92mSE_EVENT_BUS_HOST[39m: (B[mselenium_hub[3;7H[92mSE_EVENT_BUS_PUBLISH_PORT[39m: [95m4442[4;7H[92mSE_EVENT_BUS_SUBSCRIBE_PORT[39m: [95m4443[5;5H[92mrestart[39m: (B[malways[2d[?25l[?12l[?25h7[2;28r8[5T[1;30r[2;5H[92mimage[39m: (B[mselenium/node-firefox[3;5H[92mcontainer_name[39m: (B[mfirefox[4;5H[92mdepends_on[39m:[5;6H(B[0;1m[33m[1K - [39m(B[mselenium_hub[6;5H[92menvironment[39m:[2d(B[m[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;6H(B[0;1m[33m[1K - (B[0m[95m"4442:4442"[3;6H(B[0;1m[33m[1K - (B[0m[95m"4443:4443"[4;6H(B[0;1m[33m[1K - (B[0m[95m"4444:4444"[5;5H[92mrestart[39m: (B[malways[7;3H[92mfirefox[39m:[2d(B[m[?25l[?12l[?25h[7d[?25l[?12l[?25h[12d[?25l[?12l[?25h[18d[?25l[?12l[?25h[24d[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[25;5H[92mcontainer_name[39m: (B[mbackend[26;5H[92mports[39m:[27;6H(B[0;1m[33m[1K - (B[0m[95m"5001:5001"[39m(B[m[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[26;1H(B[0m[3m[36m#  artifactory:[27d#    image: docker.bintray.io/jfrog/artifactory-jcr:7.39.4[39m(B[m[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;1H(B[0m[3m[36m#    container_name: artifactory[23d#    ports:[24d#      - "8081:8081"[25d#      - "8082:8082"[26d#    volumes:[27d#      - /home/panda/repo/Infrastructure/artifactory/:/artifactory_extra_conf/[39m(B[m[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;126H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 93 lines ](B[m[?12l[?25h[A[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[28d[K[?12l[?25h[15d[?25l[?12l[?25h[21d[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[1;126H(B[0;7m*[224G(B[m[16;27r[16;1HM[1;30r[18;1H[?12l[?25h[?25l[16;27r[16;1HM[1;30r[19;1H[?12l[?25h[?25l[16;28r[28;1H
[1;30r[27;1H(B[0m[3m[36m#    volumes:[19d[39m(B[m[?12l[?25h[?25l[16;28r[28;1H
[1;30r[27;1H(B[0m[3m[36m#      - /home/panda/repo/Infrastructure/artifactory/:/artifactory_extra_conf/[19d[39m(B[m[?12l[?25h[?25l[16;28r[28;1H
[1;30r[27;1H(B[0m[3m[36m#    restart: always[19d[39m(B[m[?12l[?25h[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;126H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 92 lines ](B[m[?12l[?25h[19d[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/Infrastructureroot@vagrant:~/Infrastructure# nano docker-compose.yaml [Knano docker-compose.yaml ll[Kcd Infrastructure/..[Knano Jenkinsfile [1Pcat[C[C[C[C[C[C[C[C[C[C[C[C[Cd ..[Knano selenium_test.py ll[Kcd selenium/ll[Kcd test/ll[Kcd test/ll[Kcd selenium/ll[Knano selenium_test.py cd ..[Kat Jenkinsfile [1@nano[C[C[C[C[C[C[C[C[C[C[C[C[Ccd ..[KInfrastructure/ll[Knano docker-compose.yaml [Knano docker-compose.yaml ll[Kcd Infrastructure/..[Knano Jenkinsfile [1Pcat[C[C[C[C[C[C[C[C[C[C[C[C[Cd ..[Knano selenium_test.py ll[Kcd selenium/ll[Kcd test/ll[Kcd test/ll[Kcd selenium/ll[Knano selenium_test.py cd ..[Kat Jenkinsfile [1@nano[C[C[C[C[C[C[C[C[C[C[C[C[Ccd ..[KInfrastructure/ll[Knano docker-compose.yaml [Knano docker-compose.yaml ll[Kcd Infrastructure/..[Knano Jenkinsfile [1Pcat[C[C[C[C[C[C[C[C[C[C[C[C[Cd ..[Knano selenium_test.py ll[Kcd selenium/ll[Kcd test/ll[Kgit pushcommit[2Ppushll[Kcd test/ll[Kcd selenium/ll[Knano selenium_test.py cd ..[Kat Jenkinsfile [1@nano[C[C[C[C[C[C[C[C[C[C[C[C[Ccd ..[KInfrastructure/ll[Knano docker-compose.yaml [Knano docker-compose.yaml ll[Kcd Infrastructure/..[Knano Jenkinsfile [1Pcat[C[C[C[C[C[C[C[C[C[C[C[C[Cd ..[Knano selenium_test.py cd ..[Kat Jenkinsfile [1@nano[C[C[C[C[C[C[C[C[C[C[C[C[Ccd ..[KInfrastructure/ll[Knano docker-compose.yaml [Kcd ..
[?2004l[?2004h]0;root@vagrant: ~root@vagrant:~# cd App_of_apps/
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# ll
[?2004ltotal 164
drwxr-xr-x  4 root root   4096 Dec  1 18:52  [0m[01;34m.[0m/
drwx------ 10 root root   4096 Dec  1 18:00  [01;34m..[0m/
-rw-r--r--  1 root root 143360 Dec  1 18:55 '{'
drwxr-xr-x  8 root root   4096 Dec  1 18:38  [01;34m.git[0m/
-rw-r--r--  1 root root   2260 Dec  1 18:50  Jenkinsfile
drwxr-xr-x  3 root root   4096 Dec  1 17:19  [01;34mtest[0m/
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jenkinsfile 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 95 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                               Jenkinsfile                                                                                                         [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2ddef frontendImage="ppaciekq/Frontend"[3ddef backendImage="ppaciekq/Backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[14dparameters {[15;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[16;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[17;5H}[20dstages {[23;9Hstage('Get Code') {[24;13Hsteps {[25;17Hcheckout scm // Get some code from a GitHub repository[26;13H}[27;9H}[2d[?12l[?25h[?25l[?12l[?25h[8d[?25l[?12l[?25h[14d[?25l[?12l[?25h[20d[?25l[28d[K[?12l[?25h[26d[?25l[?12l[?25h[2;28r[28;1H[10S[1;30r[20;9Hstage('Adjust version') {[21;13Hsteps {[22;17Hscript{[23;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[24;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[26;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[27;17H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13H}[23;9H}[27dstage('Remove Containers') {[?25l[?12l[?25h[2;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[3;17H}[4;12H[1K }[5;9H}[7d[K[8d[K[9;9Hstage('Remove Containers') {[K[10;13Hsteps {[11;16H[1K script {[12;21Hsh 'docker rm -f backend || true'[13;21Hsh 'docker rm -f frontend || true'[14;16H[1K }[K[15;13H}[K[16;9H}[K[17d[K[18d[K[19;9Hstage('Deploy application') {[20;13Hsteps {[K[21;17Hscript {[22;20H[1K withEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[23;29H[1K "BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[24;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[25;29Hsh "docker-compose up -d"[26;25H}[27;20H[1K }[K[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17H}[23;13H}[24;9H}[27dstage('Selenium tests') {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13Hsteps {[23;17Hscript {[24;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[25;25Hsh 'pip3 install -r requirements.txt'[26;25Hsh 'python3 -m pytest test'[27;21H}[?25l[?12l[?25h[2d[K[3d[K[4;9Hstage('Selenium tests') {[5;13Hsteps {[6;17Hscript {[7;20H[1K withEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[8;24H[1K sh 'pip3 install -r requirements.txt'[9;24H[1K sh 'python3 -m pytest test'[10;21H}[K[11;17H}[K[12;13H}[K[13;9H}[K[14d[K[15d[K[16d[K[17d[K[18d[K[21;5H}[K[22d}[K[23d[K[24d[K[25d[K[26;5Hpost {[K[27dalways {[K[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13Hscript {[23;17Hsh 'docker-compose down || true'[24;17HcleanWS()[25;13H}[26;9H}[27;5H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;27r[2;1H[4T[1;30r[2;13Hsteps {[3;17Hscript {[4;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[5;25Hsh 'pip3 install -r requirements.txt'[2d[?25l[?12l[?25h7[2;27r8[5T[1;30r[2;13H}[3;9H}[6dstage('Selenium tests') {[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[3;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[4;29Hsh "docker-compose up -d"[5;25H}[6;21H}[7;17H}[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[4;9Hstage('Deploy application') {[5;13Hsteps {[6;17Hscript {[7;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[2d[?25l[?12l[?25h[7d[?25l[?12l[?25h[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;17Hscript {[3;21Hsh 'docker rm -f backend || true'[4;21Hsh 'docker rm -f frontend || true'[5;17H}[6;13H}[7;9H}[2d[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[19d[?25l[?12l[?25h[14d[?25l[?12l[?25h[19d[?25l[?12l[?25h[24d[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[25;25Hsh 'pip3 install -r requirements.txt'[26;25Hsh 'python3 -m pytest test'[27;21H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17H}[23;13H}[24;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[26;5H}[27d}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[25;5Hpost {[26dalways {[27;13Hscript {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17Hsh 'docker-compose down || true'[23;17HcleanWS()[24;13H}[25;9H}[26;5H}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[23d[?25l[?12l[?25h[17d[?25l[?12l[?25h[11d[?25l[?12l[?25h[5d[?25l[?12l[?25h[2;27r[2;1H[3T[1;30r[2;17Hscript {[3;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[4;25Hsh 'pip3 install -r requirements.txt'[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;13H}[3;9H}[6dstage('Selenium tests') {[7;13Hsteps {[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[3;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[4;29Hsh "docker-compose up -d"[5;25H}[6;21H}[7;17H}[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[4;9Hstage('Deploy application') {[5;13Hsteps {[6;17Hscript {[7;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[2d[?25l[?12l[?25h7[2;27r8[5T[1;30r[2;21Hsh 'docker rm -f backend || true'[3;21Hsh 'docker rm -f frontend || true'[4;17H}[5;13H}[6;9H}[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[5;9Hstage('Remove Containers') {[6;13Hsteps {[7;17Hscript {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[4;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[5;17H}[6;13H}[7;9H}[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[4;9Hstage('Adjust version') {[5;13Hsteps {[6;17Hscript{[7;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[3;9Hstage('Get Code') {[4;13Hsteps {[5;17Hcheckout scm // Get some code from a GitHub repository[6;13H}[7;9H}[2d[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[3;5H}[6dstages {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;9Hlabel 'agent'[3;5H}[6dparameters {[7;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;1Hdef dockerRegistry=""[3ddef registryCredentials="dockerhub"[5dpipeline {[7;4Hagent {[2d[?25l[?12l[?25h7[2;28r8[2T[1;30r[2;1Hdef frontendImage="ppaciekq/Frontend"[3ddef backendImage="ppaciekq/Backend"[A[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[19d[?25l[?12l[?25h[25d[?25l[?12l[?25h[2;28r[28;1H[4S[1;30r[26;9Hstage('Adjust version') {[27;13Hsteps {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17Hscript{[23;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[24;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[26;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[27;17H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13H}[23;9H}[27dstage('Remove Containers') {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13Hsteps {[23;17Hscript {[24;21Hsh 'docker rm -f backend || true'[25;21Hsh 'docker rm -f frontend || true'[26;17H}[27;13H}[?25l[?12l[?25h7[2;28r8[28d[5S[1;30r[23;9H}[26dstage('Deploy application') {[27;13Hsteps {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17Hscript {[23;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[24;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[25;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[26;29Hsh "docker-compose up -d"[27;25H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;21H}[23;17H}[24;13H}[25;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;9Hstage('Selenium tests') {[23;13Hsteps {[24;17Hscript {[25;21HwithEnv(["PIP_BREAK_SYSTEM_PACKAGES=1"]) {[26;25Hsh 'pip3 install -r requirements.txt'[27;25Hsh 'python3 -m pytest test'[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;21H}[23;17H}[24;13H}[25;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[27;5H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;1H}[26;5Hpost {[27dalways {[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13Hscript {[23;17Hsh 'docker-compose down || true'[24;17HcleanWS()[25;13H}[26;9H}[27;5H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1;122H(B[0;7m*[224G(B[m[?12l[?25h[27de[?25l[28d(B[0;7mSave modified buffer?                                                                                                                                                                                                            [29;1H Y(B[m Yes[K[30d(B[0;7m N(B[m No  [30;17H(B[0;7m^C(B[m Cancel[K[28;23H[?12l[?25h[?25l[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# cd ..
[?2004l[?2004h]0;root@vagrant: ~root@vagrant:~# kk
[?2004lbash: kk: command not found
[?2004h]0;root@vagrant: ~root@vagrant:~# ll
[?2004ltotal 52
drwx------ 10 root root 4096 Dec  1 18:00 [0m[01;34m.[0m/
drwxr-xr-x 20 root root 4096 Nov 29 20:29 [01;34m..[0m/
drwxr-xr-x  4 root root 4096 Nov 29 20:30 [01;34m.ansible[0m/
drwxr-xr-x  4 root root 4096 Dec  1 18:55 [01;34mApp_of_apps[0m/
-rw-r--r--  1 root root 3106 Oct 15  2021 .bashrc
-rw-r--r--  1 root root   50 Dec  1 18:00 .gitconfig
drwxr-xr-x  6 root root 4096 Dec  1 18:54 [01;34mInfrastructure[0m/
drwx------  3 root root 4096 Nov 29 20:29 [01;34m.launchpadlib[0m/
drwxr-xr-x  3 root root 4096 Dec  1 16:44 [01;34m.local[0m/
-rw-r--r--  1 root root  161 Jul  9  2019 .profile
drwx------  3 root root 4096 Sep  9 08:00 [01;34msnap[0m/
drwx------  2 root root 4096 Sep  9 08:00 [01;34m.ssh[0m/
drwxr-xr-x  2 root root 4096 Nov 29 20:34 [01;34m.terraform.d[0m/
[?2004h]0;root@vagrant: ~root@vagrant:~# cd App_of_apps/
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# ll
[?2004ltotal 176
drwxr-xr-x  4 root root   4096 Dec  1 18:55  [0m[01;34m.[0m/
drwx------ 10 root root   4096 Dec  1 18:00  [01;34m..[0m/
-rw-r--r--  1 root root 155648 Dec  1 18:56 '{'
drwxr-xr-x  8 root root   4096 Dec  1 18:38  [01;34m.git[0m/
-rw-r--r--  1 root root   2260 Dec  1 18:50  Jenkinsfile
drwxr-xr-x  3 root root   4096 Dec  1 17:19  [01;34mtest[0m/
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# cd test/
[?2004l[?2004h]0;root@vagrant: ~/App_of_apps/testroot@vagrant:~/App_of_apps/test# ll
[?2004ltotal 12
drwxr-xr-x 3 root root 4096 Dec  1 17:19 [0m[01;34m.[0m/
drwxr-xr-x 4 root root 4096 Dec  1 18:55 [01;34m..[0m/
drwxr-xr-x 2 root root 4096 Dec  1 18:45 [01;34mselenium[0m/
[?2004h]0;root@vagrant: ~/App_of_apps/testroot@vagrant:~/App_of_apps/test# cd e[Kselenium/
[?2004l[?2004h]0;root@vagrant: ~/App_of_apps/test/seleniumroot@vagrant:~/App_of_apps/test/selenium# ll
[?2004ltotal 16
drwxr-xr-x 2 root root 4096 Dec  1 18:45 [0m[01;34m.[0m/
drwxr-xr-x 3 root root 4096 Dec  1 17:19 [01;34m..[0m/
-rw-r--r-- 1 root root   55 Dec  1 17:19 requirements.txt
-rw-r--r-- 1 root root 1065 Dec  1 18:44 selenium_test.py
[?2004h]0;root@vagrant: ~/App_of_apps/test/seleniumroot@vagrant:~/App_of_apps/test/selenium# nano t[Krequirements.txt 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 5 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                             requirements.txt                                                                                                      [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2dselenium[3dpytest[4dflask<2.0[5dmarkupsafe==2.0.1[6djinja2<3.0[2d[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[4d[?25l[?12l[?25h[5d[?25l[?12l[?25h[6d[?25l[?12l[?25h[7d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_apps/test/seleniumroot@vagrant:~/App_of_apps/test/selenium# nan[K[K[Kcd ,,
[?2004lbash: cd: ,,: No such file or directory
[?2004h]0;root@vagrant: ~/App_of_apps/test/seleniumroot@vagrant:~/App_of_apps/test/selenium# cd ..
[?2004l[?2004h]0;root@vagrant: ~/App_of_apps/testroot@vagrant:~/App_of_apps/test# ll[K[Kcd ..
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# ll
[?2004ltotal 176
drwxr-xr-x  4 root root   4096 Dec  1 18:55  [0m[01;34m.[0m/
drwx------ 10 root root   4096 Dec  1 18:00  [01;34m..[0m/
-rw-r--r-- 