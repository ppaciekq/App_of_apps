Script started on 2023-12-01 18:00:20+00:00 [TERM="xterm-256color" TTY="/dev/pts/2" COLUMNS="225" LINES="30"]
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# [7m  git config --global user.email "you@example.com"[27m
[7m  git config --global user.name "Your Name"[27m[A  git config --global user.email "you@example.com"
  git config --global user.name "Your Name"
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git add .
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git commit 
[?2004lhint: Waiting for your editor to close the file... [?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 11 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                  /root/App_of_apps/.git/COMMIT_EDITMSG                                                                                            [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[3d[36m# Please enter the commit message for your changes. Lines starting[4d# with '#' will be ignored, and an empty message aborts the commit.[5d#[6d# On branch main[7d# Your branch is up to date with 'origin/main'.[8d#[9d# Changes to be committed:[10d#[38;5;208m       [36mnew file:   Jenkinsfile[11d#[38;5;208m       [36mnew file:   {[12d#[2d[39m(B[m[?12l[?25h[?25l[1;135H(B[0;7m*[224G(B[m[?12l[?25h[2da[?25l[?12l[?25hd[?25l[?12l[?25hd[?25l[?12l[?25h [?25l[?12l[?25hJ[?25l[?12l[?25he[?25l[?12l[?25hn[?25l[?12l[?25hk[?25l[?12l[?25hi[?25l[?12l[?25hn[?25l[?12l[?25hs[?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25hF[?25l[?12l[?25hi[?25l[?12l[?25hl[?25l[?12l[?25he[?25l[?12l[?25h [?25l[?12l[?25h [?25l[28d[K[?12l[?25h[2;13H [?25l[?12l[?25h [?25l[?12l[?25hf[?25l[?12l[?25hi[?25l[?12l[?25hl[?25l[?12l[?25he[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;135H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 11 lines ](B[m[?12l[?25h[2;16H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[K[main 87846f1] add Jenkinsfile
 2 files changed, 56 insertions(+)
 create mode 100644 Jenkinsfile
 create mode 100644 {
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git push
[?2004lUsername for 'https://github.com': ppaciekq
Password for 'https://ppaciekq@github.com': 
Enumerating objects: 5, done.
Counting objects:  20% (1/5)Counting objects:  40% (2/5)Counting objects:  60% (3/5)Counting objects:  80% (4/5)Counting objects: 100% (5/5)Counting objects: 100% (5/5), done.
Delta compression using up to 3 threads
Compressing objects:  33% (1/3)Compressing objects:  66% (2/3)Compressing objects: 100% (3/3)Compressing objects: 100% (3/3), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 738 bytes | 738.00 KiB/s, done.
Total 4 (delta 0), reused 0 (delta 0), pack-reused 0
To https://github.com/ppaciekq/App_of_apps.git
   e40216b..87846f1  main -> main
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# cd ..
[?2004l[?2004h]0;root@vagrant: ~root@vagrant:~# cd Infrastructure/
[?2004l[?2004h]0;root@vagrant: ~/Infrastructureroot@vagrant:~/Infrastructure# git add.[K .
[?2004l[?2004h]0;root@vagrant: ~/Infrastructureroot@vagrant:~/Infrastructure# git push[K[K[K[K[Kco[K[K commit
[?2004lhint: Waiting for your editor to close the file... [?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 10 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                 /root/Infrastructure/.git/COMMIT_EDITMSG                                                                                          [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[3d[36m# Please enter the commit message for your changes. Lines starting[4d# with '#' will be ignored, and an empty message aborts the commit.[5d#[6d# On branch main[7d# Your branch is up to date with 'origin/main'.[8d#[9d# Changes to be committed:[10d#[38;5;208m       [36mmodified:   docker-compose.yaml[11d#[2d[39m(B[m[?12l[?25h[?25l[1;137H(B[0;7m*[224G(B[m[?12l[?25h[2da[?25l[?12l[?25hd[?25l[?12l[?25hd[?25l[?12l[?25h [?25l[?12l[?25hd[?25l[?12l[?25he[?25l[?12l[?25hf[?25l[?12l[?25h [?25l[?12l[?25hi[?25l[?12l[?25hn[?25l[?12l[?25h [?25l[?12l[?25hd[?25l[?12l[?25he[?25l[?12l[?25ho[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25ho[?25l[?12l[?25hc[?25l[?12l[?25hk[?25l[28d[K[?12l[?25h[2;16He[?25l[?12l[?25hr[?25l[?12l[?25h-[?25l[?12l[?25hc[?25l[?12l[?25ho[?25l[?12l[?25hm[?25l[?12l[?25hp[?25l[?12l[?25ho[?25l[?12l[?25hs[?25l[?12l[?25he[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;137H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 10 lines ](B[m[?12l[?25h[2;26H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[K[main df19bc1] add def in docker-compose
 1 file changed, 27 insertions(+)
[?2004h]0;root@vagrant: ~/Infrastructureroot@vagrant:~/Infrastructure# git push
[?2004lUsername for 'https://github.com': ppaciekq
Password for 'https://ppaciekq@github.com': 
Enumerating objects: 5, done.
Counting objects:  20% (1/5)Counting objects:  40% (2/5)Counting objects:  60% (3/5)Counting objects:  80% (4/5)Counting objects: 100% (5/5)Counting objects: 100% (5/5), done.
Delta compression using up to 3 threads
Compressing objects:  33% (1/3)Compressing objects:  66% (2/3)Compressing objects: 100% (3/3)Compressing objects: 100% (3/3), done.
Writing objects:  33% (1/3)Writing objects:  66% (2/3)Writing objects: 100% (3/3)Writing objects: 100% (3/3), 479 bytes | 79.00 KiB/s, done.
Total 3 (delta 2), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/2)[Kremote: Resolving deltas:  50% (1/2)[Kremote: Resolving deltas: 100% (2/2)[Kremote: Resolving deltas: 100% (2/2), completed with 2 local objects.[K
To https://github.com/ppaciekq/Infrastructure.git
   fccef39..df19bc1  main -> main
[?2004h]0;root@vagrant: ~/Infrastructureroot@vagrant:~/Infrastructure# cd ..
[?2004l[?2004h]0;root@vagrant: ~root@vagrant:~# cd App_of_apps/
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# ll
[?2004ltotal 28
drwxr-xr-x  4 root root 4096 Dec  1 18:00  [0m[01;34m.[0m/
drwx------ 10 root root 4096 Dec  1 18:00  [01;34m..[0m/
-rw-r--r--  1 root root 8192 Dec  1 18:01 '{'
drwxr-xr-x  8 root root 4096 Dec  1 18:00  [01;34m.git[0m/
-rw-r--r--  1 root root 1297 Dec  1 17:59  Jenkinsfile
drwxr-xr-x  3 root root 4096 Dec  1 17:19  [01;34mtest[0m/
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# pwd
[?2004l/root/App_of_apps
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 1pwd[1Pllcd App_of_apps/..[Kgit pushcommit[1Padd .cd Infrastructure/..[Kgit pushcommit [2Padd .commit [3Ppush[3Pcd ..Infrastructure/[9Pgit add .commit[1Padd .commit[2Ppush[3Pcd ..App_of_apps/ll[Kpwd[2P1[Knano Jenkinsfile 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 56 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                               Jenkinsfile                                                                                                         [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2ddef frontendImage="ppacieq/frontend"[3ddef backendImage="ppacieq/backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[14dparameters {[15;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[16;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[17;5H}[20dstages {[23;9Hstage('Get Code') {[24;13Hsteps {[25;17Hcheckout scm // Get some code from a GitHub repository[26;13H}[27;9H}[2d[?12l[?25h[?25l[?12l[?25h[8d[?25l[?12l[?25h[14d[?25l[?12l[?25h[20d[?25l[28d[K[?12l[?25h[26d[?25l[?12l[?25h[2;28r[28;1H[11S[1;30r[19;9Hstage('Adjust version') {[20;13Hsteps {[21;17Hscript{[22;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[23;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[25;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[26;17H}[27;13H}[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;9H}[26dstage('Remove Containers') {[27;13Hsteps {[?25l[?12l[?25h7[2;28r8[28d[11S[1;30r[17;17Hscript {[18;21Hsh 'docker rm -f backend || true'[19;21Hsh 'docker rm -f frontend || true'[20;17H}[21;13H}[22;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[3S[1;30r[25;5H}[26d}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;28r[2;1H[4T[1;30r[3;9Hstage('Adjust version') {[4;13Hsteps {[5;17Hscript{[2d[?25l[?12l[?25h7[2;27r8[5T[1;30r[2;13Hsteps {[3;17Hcheckout scm // Get some code from a GitHub repository[4;13H}[5;9H}[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[4;5Hstages {[7;9Hstage('Get Code') {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[4;5Hparameters {[5;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[6;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[7;5H}[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[3;1Hpipeline {[5;4Hagent {[6dlabel 'agent'[7;5H}[2d[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[19d[?25l[?12l[?25h[24d[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[25;17Hscript{[26;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[27;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[23;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[24;17H}[25;13H}[26;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[24;9Hstage('Remove Containers') {[25;13Hsteps {[26;17Hscript {[27;21Hsh 'docker rm -f backend || true'[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;21Hsh 'docker rm -f frontend || true'[23;17H}[24;13H}[25;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[25;5H}[26d}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[5d[?25l[?12l[?25h[2;27r[2;1H[3T[1;30r[2;9Hstage('Adjust version') {[3;13Hsteps {[4;17Hscript{[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;13Hsteps {[3;17Hcheckout scm // Get some code from a GitHub repository[4;13H}[5;9H}[2d[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d[?25l[?12l[?25h[18d[?25l[?12l[?25h[24d[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[25;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[25;5H}[26d}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[1;122H(B[0;7m*[224G(B[m[20;28r[20;1HM[1;30r[21;1H[?12l[?25h[?25l[20;27r[20;1HM[1;30r[22;1H[?12l[?25h[?25l[2;28r[28;1H[6S[1;30r[16;9Hstage('Deploy application') {[17;13Hsteps {[18;17Hscript {[19;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[20;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[21;23H[1K docker.withRegistry("$dockerRegistry", "$registryCredentials") {[22;29Hsh "docker-compose up -d"[23;25H}[24;21H}[25;17H}[26;13H}[27;9H}[?12l[?25h[?25l[?12l[?25h[22d[?25l[?12l[?25h[16d[?25l[?12l[?25h[10d[?25l[?12l[?25h[4d[?25l[?12l[?25h[2;27r[2;1H[4T[1;30r[3;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[4;17H}[5;13H}[2;10H[?25l[?12l[?25h7[2;27r8[6T[1;30r[3;9Hstage('Adjust version') {[4;13Hsteps {[5;17Hscript{[6;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[7;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;9Hstage('Get Code') {[3;13Hsteps {[4;17Hcheckout scm // Get some code from a GitHub repository[5;13H}[6;9H}[2d[?25l[?12l[?25h7[2;27r8[5T[1;30r[4;5Hstages {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[4;5Hparameters {[5;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[6;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[7;5H}[2d[?25l[?12l[?25h[7;6H[?25l[?12l[?25h[12d[?25l[?12l[?25h[18d[?25l[?12l[?25h[24;10H[?25l[?12l[?25h[2;28r[28;1H[3S[1;30r[25;13H}[26;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[24;9Hstage('Remove Containers') {[25;13Hsteps {[26;17Hscript {[27;21Hsh 'docker rm -f backend || true'[27;10H[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;21Hsh 'docker rm -f frontend || true'[23;17H}[24;13H}[25;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;9Hstage('Deploy application') {[23;13Hsteps {[24;17Hscript {[25;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[26;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[27;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[27;10H[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;29Hsh "docker-compose up -d"[23;25H}[24;21H}[25;17H}[26;13H}[27;9H}[?25l[?12l[?25h7[2;28r8[28d[5S[1;30r[27;5H}[?25l[?12l[?25h7[2;28r8[28d[2S[1;30r[26;1H}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;122H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 69 lines ](B[m[?12l[?25h[A[?25l[?12l[?25h[22d[?25l[?12l[?25h[16;10H[?25l[?12l[?25h[10d[?25l[28d[K[?12l[?25h[5;10H[?25l[?12l[?25h[2;27r[2;1H[3T[1;30r[2;9Hstage('Remove Containers') {[3;13Hsteps {[4;17Hscript {[2;10H[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;17H}[3;13H}[4;9H}[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[2;13Hsteps {[3;17Hscript{[4;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[5;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[7;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[2;10H[?25l[?12l[?25h7[2;28r8[6T[1;30r[2;17Hcheckout scm // Get some code from a GitHub repository[3;13H}[4;9H}[7dstage('Adjust version') {[2;10H[?25l[?12l[?25h7[2;27r8[6T[1;30r[3;5Hstages {[6;9Hstage('Get Code') {[7;13Hsteps {[2d[?25l[?12l[?25h7[2;27r8[6T[1;30r[3;5Hparameters {[4;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[5;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[6;5H}[2d [?25l[?12l[?25h7[2;28r8[11T[1;30r[2;1Hdef frontendImage="ppacieq/frontend"[3ddef backendImage="ppacieq/backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[2;10H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[7d[?25l[?12l[?25h[13d [?25l[?12l[?25h[19d[?25l[?12l[?25h[25;10H[?25l[?12l[?25h[2;28r[28;1H[4S[1;30r[26;9Hstage('Adjust version') {[27;13Hsteps {[27;10H[?25l[?12l[?25h7[2;28r8[28d[11S[1;30r[17;17Hscript{[18;21HbackendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[19;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[21;21HcurrentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[22;17H}[23;13H}[24;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;9Hstage('Remove Containers') {[23;13Hsteps {[24;17Hscript {[25;21Hsh 'docker rm -f backend || true'[26;21Hsh 'docker rm -f frontend || true'[27;17H}[27;10H[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;13H}[23;9H}[26dstage('Deploy application') {[27;13Hsteps {[27;10H[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;17Hscript {[23;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[24;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[25;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[26;29Hsh "docker-compose up -d"[27;25H}[27;10H[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;21H}[23;17H}[24;13H}[25;9H}[27d[?25l[?12l[?25h7[2;28r8[28d[5S[1;30r[25;5H}[26d}[27d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;224H[28;104H(B[0;7m[ Wrote 69 lines ](B[m[?12l[?25h[A[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jenkinsfile [Knano Jenkinsfile [1@c[1@a[1@t[1P[1P[1P[1P
[?2004ldef frontendImage="ppacieq/frontend"
def backendImage="ppacieq/backend"
def dockerRegistry=""
def registryCredentials="dockerhub"

pipeline {
 
   agent {
        label 'agent'
    }

 
    parameters {
        string(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')
        string(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')
    }


    stages {


        stage('Get Code') {
            steps {
                checkout scm // Get some code from a GitHub repository
            }
        }


        stage('Adjust version') {
            steps {
                script{
                    backendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag
                    frontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag
                    
                    currentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"
                }
            }
        }



        stage('Remove Containers') {
            steps {
                script {
                    sh 'docker rm -f backend || true' 
                    sh 'docker rm -f frontend || true'
                }
            }
        }


        stage('Deploy application') {
            steps {
                script {
                    withEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag", 
                             "BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {
                       docker.withRegistry("$dockerRegistry", "$registryCredentials") {
                            sh "docker-compose up -d"
                        }
                    }
                }
            }
        }




    }
}
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jenkinsfile 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 69 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                               Jenkinsfile                                                                                                         [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2ddef frontendImage="ppacieq/frontend"[3ddef backendImage="ppacieq/backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[14dparameters {[15;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[16;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[17;5H}[20dstages {[23;9Hstage('Get Code') {[24;13Hsteps {[25;17Hcheckout scm // Get some code from a GitHub repository[26;13H}[27;9H}[2d[?12l[?25h[?25l[?12l[?25h[8d[?25l[?12l[?25h[13d[?25l[28d[K[?12l[?25h[25d[?25l[?12l[?25h[2;12H[1K steps {[K[3;16H[1K checkout scm // Get some code from a GitHub repository[4;12H[1K }[K[5;8H[1K }[K[7d[K[8;9Hstage('Adjust version') {[9;12H[1K steps {[10;16H[1K script{[11;20H[1K backendDockerTag = params.backendDockerTag.isEmpty() ? "latest" : params.backendDockerTag[12;21HfrontendDockerTag = params.frontendDockerTag.isEmpty() ? "latest" : params.frontendDockerTag[14;20H[1K currentBuild.description = "Backend: ${backendDockerTag}, Frontend: ${frontendDockerTag}"[15;16H[1K }[K[16;9H    }[K[17d        }[20d[K[21;9Hstage('Remove Containers') {[22;13Hsteps {[23;16H[1K script {[K[24;20H[1K sh 'docker rm -f backend || true'[25;17H    sh 'docker rm -f frontend || true'[K[26d[26;13H    }[27d[27;9H    }[?25l[?12l[?25h7[2;28r8[28d[6S[1;30r[22;9H}[25dstage('Deploy application') {[26;13Hsteps {[27;17Hscript {[?25l[?12l[?25h[2;20H[1K sh 'docker rm -f backend || true'[3;20H[1K sh 'docker rm -f frontend || true'[4;17H}[K[5;13H}[K[6;9H}[K[8d[K[9;9Hstage('Deploy application') {[10;13Hsteps {[11;16H[1K script {[12;21HwithEnv(["FRONTEND_IMAGE=$frontendImage:$frontendDockerTag",[13;30H"BACKEND_IMAGE=$backendImage:$backendDockerTag"]) {[14;24Hdocker.withRegistry("$dockerRegistry", "$registryCredentials") {[15;28H[1K sh "docker-compose up -d"[16;24H[1K }[17;17H    }[K[18;17H}[K[19;13H}[K[20;9H}[K[21d[K[22d[K[25;5H}[K[26d}[K[27d[K[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[1;122H(B[0;7m*[224G(B[m[21;28r[21;1HM[1;30r[23;1H[?12l[?25h[?25l[21;27r[21;1HM[1;30r[24;1H[?12l[?25h[?25l[27d[K[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[2;28r[28;1H[3S[1;30r[20;5Hpost {[21dalways {[22;13Hscript {[23;17Hsh 'docker-compose down || true' // Zatrzymaj dziaÅ‚anie docker-compose[24;17HcleanWS() // UsuÅ„ pliki w przestrzeni roboczej[25;13H}[26;9H}[27;5H}[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[24;63H[?25l[?12l[?25h[?25l[?12l[?25hj[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[23;87H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25ho[?25l[?12l[?25hm[?25l[?12l[?25hp[?25l[?12l[?25ho[?25l[?12l[?25hs[?25l[?12l[?25he[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h[2;28r[28;1H[2S[1;30r[27;1H[?25l || true'[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h [?25l[?12l[?25h[?25l[?12l[?25h [?25l[?12l[?25h[K [?25l[?12l[?25h[?25l[A[?12l[?25h[?25l[25;6H[?12l[?25h[?25l[?12l[?25h[A[?25l[?12l[?25h[25d[?25l[?12l[?25h[26d[?25l[?12l[?25h[27d[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;5H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H}[?25l[?12l[?25h7[2;28r8[28d
[1;30r[27;1H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[A}[?25l[?12l[?25h[A   }[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[21;6H[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[A[?25l[?12l[?25h[18d[?25l[?12l[?25h[19d[?25l[?12l[?25h[A[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[17;40H[?25l || true'[?12l[?25h[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;122H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 78 lines ](B[m[?12l[?25h[17;49H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# ll
[?2004ltotal 52
drwxr-xr-x  4 root root  4096 Dec  1 18:30  [0m[01;34m.[0m/
drwx------ 10 root root  4096 Dec  1 18:00  [01;34m..[0m/
-rw-r--r--  1 root root 28672 Dec  1 18:29 '{'
drwxr-xr-x  8 root root  4096 Dec  1 18:00  [01;34m.git[0m/
-rw-r--r--  1 root root  1931 Dec  1 18:30  Jenkinsfile
drwxr-xr-x  3 root root  4096 Dec  1 17:19  [01;34mtest[0m/
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# 
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git add .
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git commit
[?2004lhint: Waiting for your editor to close the file... [?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 11 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                  /root/App_of_apps/.git/COMMIT_EDITMSG                                                                                            [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[3d[36m# Please enter the commit message for your changes. Lines starting[4d# with '#' will be ignored, and an empty message aborts the commit.[5d#[6d# On branch main[7d# Your branch is up to date with 'origin/main'.[8d#[9d# Changes to be committed:[10d#[38;5;208m       [36mmodified:   Jenkinsfile[11d#[38;5;208m       [36mmodified:   {[12d#[2d[39m(B[m[?12l[?25h[?25l[1;135H(B[0;7m*[224G(B[m[?12l[?25h[2dm[?25l[?12l[?25ho[?25l[?12l[?25hd[?25l[?12l[?25hi[?25l[?12l[?25hf[?25l[?12l[?25hy[?25l[?12l[?25h [?25l[?12l[?25hJ[?25l[?12l[?25he[?25l[?12l[?25hn[?25l[?12l[?25hk[?25l[?12l[?25hi[?25l[?12l[?25hn[?25l[?12l[?25hs[?25l[?12l[?25hf[?25l[?12l[?25hi[?25l[?12l[?25hl[?25l[?12l[?25he[?25l[28;105H (B[0;7m[ Writing... ](B[m[K[1;135H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 11 lines ](B[m[?12l[?25h[2;19H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[K[main 7bcdb0b] modify Jenkinsfile
 2 files changed, 160 insertions(+)
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git push
[?2004lUsername for 'https://github.com': ppaciekq
Password for 'https://ppaciekq@github.com': 
Enumerating objects: 7, done.
Counting objects:  14% (1/7)Counting objects:  28% (2/7)Counting objects:  42% (3/7)Counting objects:  57% (4/7)Counting objects:  71% (5/7)Counting objects:  85% (6/7)Counting objects: 100% (7/7)Counting objects: 100% (7/7), done.
Delta compression using up to 3 threads
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 4.83 KiB | 4.83 MiB/s, done.
Total 4 (delta 1), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (1/1)[Kremote: Resolving deltas: 100% (1/1), completed with 1 local object.[K
To https://github.com/ppaciekq/App_of_apps.git
   87846f1..7bcdb0b  main -> main
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git pushcommit[1Padd .ll[Knano Jenkinsfile [1Pcat[C[C[C[C[C[C[C[C[C[C[C[C[C[1@nano[C[C[C[C[C[C[C[C[C[C[C[C[C
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 78 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                               Jenkinsfile                                                                                                         [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2ddef frontendImage="ppacieq/frontend"[3ddef backendImage="ppacieq/backend"[4ddef dockerRegistry=""[5ddef registryCredentials="dockerhub"[7dpipeline {[9;4Hagent {[10dlabel 'agent'[11;5H}[14dparameters {[15;9Hstring(name: 'backendDockerTag', defaultValue: '', description: 'Backend docker image tag')[16;9Hstring(name: 'frontendDockerTag', defaultValue: '', description: 'Frontend docker image tag')[17;5H}[20dstages {[23;9Hstage('Get Code') {[24;13Hsteps {[25;17Hcheckout scm // Get some code from a GitHub repository[26;13H}[27;9H}[2d[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[3d[?25l[?12l[?25h[2;37H[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[1;122H(B[0;7m*[224G(B[m[?12l[?25h[2;26Hkq/frontend"[2;27H[?25l[?12l[?25h[3d[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[28d[K[?12l[?25h[3;25H[?25l[?12l[?25hkq/backend"[3;26H[?25l[28;106H(B[0;7m[ Writing... ](B[m[1;122H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 78 lines ](B[m[?12l[?25h[3;26H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jenkinsfile [9Pgit pushcommit[1Padd .ll[Kgit add .
[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git add .nano Jenkinsfile [9Pgit pushcommit
[?2004lhint: Waiting for your editor to close the file... [?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 11 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                  /root/App_of_apps/.git/COMMIT_EDITMSG                                                                                            [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[3d[36m# Please enter the commit message for your changes. Lines starting[4d# with '#' will be ignored, and an empty message aborts the commit.[5d#[6d# On branch main[7d# Your branch is up to date with 'origin/main'.[8d#[9d# Changes to be committed:[10d#[38;5;208m       [36mmodified:   Jenkinsfile[11d#[38;5;208m       [36mmodified:   {[12d#[2d[39m(B[m[?12l[?25h[?25l[1;135H(B[0;7m*[224G(B[m[?12l[?25h[2df[?25l[?12l[?25hi[?25l[?12l[?25hx[?25l[?12l[?25h [?25l[?12l[?25hr[?25l[?12l[?25he[?25l[?12l[?25hp[?25l[?12l[?25ho[?25l[?12l[?25hn[?25l[?12l[?25ha[?25l[?12l[?25hm[?25l[?12l[?25he[?25l[28;105H (B[0;7m[ Writing... ](B[m[K[1;135H(B[0;7m [224G(B[m[28;104H(B[0;7m[ Wrote 11 lines ](B[m[?12l[?25h[2;13H[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[K[main d948f1d] fix reponame
 2 files changed, 27 insertions(+), 3 deletions(-)
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# git commit[1Padd .nano Jenkinsfile [9Pgit pushcommit[2Ppush
[?2004lUsername for 'https://github.com': p[paciekq         ppaciekq
Password for 'https://ppaciekq@github.com': 
Enumerating objects: 7, done.
Counting objects:  14% (1/7)Counting objects:  28% (2/7)Counting objects:  42% (3/7)Counting objects:  57% (4/7)Counting objects:  71% (5/7)Counting objects:  85% (6/7)Counting objects: 100% (7/7)Counting objects: 100% (7/7), done.
Delta compression using up to 3 threads
Compressing objects:  25% (1/4)Compressing objects:  50% (2/4)Compressing objects:  75% (3/4)Compressing objects: 100% (4/4)Compressing objects: 100% (4/4), done.
Writing objects:  25% (1/4)Writing objects:  50% (2/4)Writing objects:  75% (3/4)Writing objects: 100% (4/4)Writing objects: 100% (4/4), 770 bytes | 770.00 KiB/s, done.
Total 4 (delta 2), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas:   0% (0/2)[Kremote: Resolving deltas:  50% (1/2)[Kremote: Resolving deltas: 100% (2/2)[Kremote: Resolving deltas: 100% (2/2), completed with 2 local objects.[K
To https://github.com/ppaciekq/App_of_apps.git
   7bcdb0b..d948f1d  main -> main
[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jen
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;107H(B[0;7m[ New File ](B[m[H(B[0;7m  GNU nano 6.2                                                                                                   Jen                                                                                                             [1;224H(B[m[29d(B[0;7m^G(B[m Help[29;18H(B[0;7m^O(B[m Write Out     (B[0;7m^W(B[m Where Is[52G(B[0;7m^K(B[m Cut[29;69H(B[0;7m^T(B[m Execute[86G(B[0;7m^C(B[m Location[103G(B[0;7mM-U(B[m Undo[29;120H(B[0;7mM-A(B[m Set Mark     (B[0;7mM-](B[m To Bracket   (B[0;7mM-Q(B[m Previous     (B[0;7m^B(B[m Back[29;188H(B[0;7m^â—‚(B[m Prev Word     (B[0;7m^A(B[m Home[30d(B[0;7m^X(B[m Exit[30;18H(B[0;7m^R(B[m Read File     (B[0;7m^\(B[m Replace[52G(B[0;7m^U(B[m Paste[30;69H(B[0;7m^J(B[m Justify[86G(B[0;7m^/(B[m Go To Line    (B[0;7mM-E(B[m Redo[30;120H(B[0;7mM-6(B[m Copy[30;137H(B[0;7m^Q(B[m Where Was     (B[0;7mM-W(B[m Next[30;171H(B[0;7m^F(B[m Forward[188G(B[0;7m^â–¸(B[m Next Word     (B[0;7m^E(B[m End[2d[?12l[?25h[?25l[28d[J[30d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?2004l[?2004h]0;root@vagrant: ~/App_of_appsroot@vagrant:~/App_of_apps# nano Jenkinsfile 
[?2004l[?2004h[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;106H(B[0;7m[ Reading... ](B[m[28;105H(B[0;7m[ Read 78 lines ](B[m[H(B[0;7m  GNU nano 6.2                                                                                 